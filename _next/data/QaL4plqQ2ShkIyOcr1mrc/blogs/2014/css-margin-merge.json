{"pageProps":{"id":["posts","2014","css-margin-merge"],"post":{"id":["posts","2014","css-margin-merge"],"contentHtml":"<h2 id=\"hash-背景\">背景</h2>\n<p>当对页面中元素设置 <code>margin-top</code> 样式时，如果该元素有父元素，则 <code>margin-top</code> 会应用与父元素，子元素的 <code>top</code> 与父元素的 <code>top</code> 重叠。举例说明</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n    <span class=\"token selector\">body</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> \n        <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\"><span class=\"token class\">.outerdiv</span></span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode color\">#333</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\"><span class=\"token class\">.innerdiv</span></span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode color\">#d33</span><span class=\"token punctuation\">;</span> \n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>outerdiv<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>innerdiv<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>代码如上,显示效果并非预期想象的那样。</p>\n<div class=\"image-widget\"><img src=\"/attachments/posts/2014/css-margin-merge.files/052049399746077.jpg\" alt=\"\"></div>\n<h2 id=\"hash-原因分析\">原因分析</h2>\n<p>先看一看 CSS 中对 margin 的定义：</p>\n<blockquote>\n<p>围绕在元素边框的空白区域是外边距。设置外边距会在元素外创建额外的 <strong>空白</strong>。\n设置外边距的最简单的方法就是使用 <code>margin</code> 属性，这个属性接受任何长度单位、百分数值甚至负值。</p>\n</blockquote>\n<p>这里并没提到为什么会出现这个问题，我们再往下看 <strong>外边距合并</strong> 这一节。</p>\n<ul>\n<li>外边距合并指的是，当两个垂直外边距相遇时，它们将形成一个外边距。</li>\n<li>合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。</li>\n<li>当一个元素出现在另一个元素上面时，第一个元素的下外边距与第二个元素的上外边距会发生合并。</li>\n<li>当一个元素包含在另一个元素中时（假设没有内边距或边框把外边距分隔开），它们的上和/或下外边距也会发生合并。</li>\n<li>外边距甚至可以与自身发生合并</li>\n</ul>\n<p>到这里，我们的问题就找到了，注意上面第四条：当一个元素包含在另一个元素中时（假设没有内边距或边框把外边距分隔开），它们的上和/或下外边距也会发生合并。</p>\n<p>当 <strong>没有内边距或边框把两个元素的外边距分隔开</strong> 时，外边距就会合并。拿我们刚才的例子来讲，outerdiv 和 innerdiv 正好就是这种情况，所以 innerdiv 的外边距就与 outediv 的外边距合并了。</p>\n<h2 id=\"hash-解决\">解决</h2>\n<p>我们只要把两个外边距隔开就可以了，把两个外边距分开的方法很多，简单列举几个</p>\n<ul>\n<li>为父元素设置padding</li>\n<li>为父元素或子元素设置border</li>\n<li>在子元素前加入一个不是空的元素</li>\n<li>为父元素或子元素声明浮动 flat:left</li>\n<li>为父元素或子元素声明绝对定位</li>\n<li>为父元素应用overflow：hidden属性</li>\n</ul>\n","words":972,"toc":[{"depth":2,"value":"背景","id":"hash-背景"},{"depth":2,"value":"原因分析","id":"hash-原因分析"},{"depth":2,"value":"解决","id":"hash-解决"}],"title":"HTML 子元素的 margin-top 为什么会应用在父元素上","author":"高国良","type":"posts","series":false,"date":"2014-06-05T21:41:00.791Z","tags":["css","layout"],"description":"当对页面中元素设置 margin-top 样式时，如果该元素有父元素，则 margin-top 会应用于父元素，子元素的 top 与父元素的 top 重叠。","draft":false,"cover":false},"prev":{"title":"windows7 下 apache2.4 和 php5.5 及 mysql5.6 的安装与配置","author":"高国良","type":"posts","series":false,"date":1401990240791,"tags":["php","Apache","Mysql"],"description":"准备的软件、安装","draft":false,"cover":false,"path":"/blogs/2014/php5.5-apache2.4-mysql5.6-windows7","slug":"2014/php5.5-apache2.4-mysql5.6-windows7"},"next":{"title":"JavaScript高级编程 (2) - HTML 与 JavaScript","author":"高国良","type":"posts","series":false,"date":1402009560791,"tags":["javascript","html"],"description":"向HTML 页面中插入JavaScript 的主要方法，就是使用元素。这个元素由Netscape 创造并在Netscape Navigator 2 中首先实现。后来，这个元素被加入到正式的HTML 规范中。","draft":false,"cover":false,"path":"/blogs/2014/html-and-javascript","slug":"2014/html-and-javascript"}},"__N_SSG":true}