{"pageProps":{"id":["posts","2019","install-the-java-environment-with-centos-and-fedora"],"post":{"id":["posts","2019","install-the-java-environment-with-centos-and-fedora"],"contentHtml":"<div class=\"image-widget\"><img src=\"/attachments/posts/2019/install-the-java-environment-with-centos-and-fedora.files/634103-20190405000319046-1615757202.png\" alt=\"\"></div>\n<h2 id=\"hash-介绍\">介绍</h2>\n<p>本文介绍如何在 CentOS 7（6/6.5）、 Fedora、RHEL 上安装 Java。Java 是一个流行的软件平台，允许您运行 Java 应用程序。</p>\n<p><strong>本文涵盖了以下Java版本的安装：</strong></p>\n<ul>\n<li>OpenJDK 8</li>\n<li>Oracle Java 8</li>\n</ul>\n<h2 id=\"hash-先决条件\">先决条件</h2>\n<p>在开始之前，您应该有一个能够执行 root 权限命令的用户账户。</p>\n<h2 id=\"hash-Java的变化\">Java的变化</h2>\n<p>Java 平台有三个不同版本：标准版（SE）、企业版（EE）和微型版（ME）。本文主要关注 Java SE。</p>\n<p>可以安装两个不同的 Java SE 包：Java 运行时环境（JRE）和 Java Development Kit（JDK）。JRE 是 Java 虚拟机（JVM）的一种实现，\r\n它允许您运行已编译的 Java 应用程序和 applet。JDK 包括 JRE 及开发和编译 Java 应用所需的其他软件。</p>\n<p>还有两种不同的 Java 实现：OpenJDK 和 Oracle Java。这两种实现都基于相同的代码，但 OpenJDK（Java的参考实现）是完全开源的，而 Oracle Java 包含一些专有代码。</p>\n<p>您可以在单个系统上安装各种版本的 Java，但大多数人只需要安装一个版本。考虑到这一点，请尝试仅安装运行或开发应用程序所需的 Java 版本。</p>\n<h2 id=\"hash-安装OpenJDK-8\">安装OpenJDK 8</h2>\n<p>本节介绍如何使用 dnf 包管理器安装预构建的 OpenJDK 8 JRE 和 JDK 包，这类似于 Ubuntu / Debian 的 apt-get。</p>\n<h3 id=\"hash-安装OpenJDK-8-JRE\">安装OpenJDK 8 JRE</h3>\n<p>要使用 dnf 安装 OpenJDK 8 JRE，请运行以下命令：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> java-1.8.0-openjdk\n</code></pre></div>\n<p>在确认提示下，输入 y 然后 RETURN 继续安装。</p>\n<h3 id=\"hash-安装OpenJDK-8-JDK\">安装OpenJDK 8 JDK</h3>\n<p>要使用 dnf 安装OpenJDK 8 JDK，请运行以下命令：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> java-1.8.0-openjdk-devel\n</code></pre></div>\n<p>在确认提示下，输入 y 然后 RETURN 继续安装。</p>\n<h3 id=\"hash-安装Oracle-Java-8\">安装Oracle Java 8</h3>\n<p>这一部介绍如何安装 Oracle Java 8 JRE 和 JDK（64位）。<strong>注意：在安装Oracle Java之前，您必须接受 Java SE 的 Oracle 二进制代码许可协议，这是包含的步骤之一。</strong></p>\n<h3 id=\"hash-安装Oracle-Java-8-JRE\">安装Oracle Java 8 JRE</h3>\n<p>注意：要安装Oracle Java 8 JRE，您需要转到 Oracle Java 8 JRE 下载页面，接受许可协议，并复制相应 .rpm 软件包的下载链接。</p>\n<p>切换到您的主目录并使用以下命令下载 Oracle Java 8 JRE RPM：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> ~\n<span class=\"token function\">wget</span> --no-cookies --no-check-certificate --header <span class=\"token string\">\"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\"</span> <span class=\"token string\">\"http://link_copied_from_site\"</span>\n</code></pre></div>\n<p>然后使用此yum命令安装RPM（如果您下载了其他版本，请在此处替换文件名）：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum localinstall jre-8u161-linux-x64.rpm\n</code></pre></div>\n<p>在确认提示下，输入y然后RETURN继续安装。</p>\n<p>现在 Java 应该安装在<code>/usr/java/jre1.8.0_161/bin/java</code>，并从<code>/usr/java/jre1.8.0_161/bin/java</code>链接。</p>\n<p>您可以删除先前下载的存档文件：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> ~/jre-8u161-linux-x64.rpm\n</code></pre></div>\n<h3 id=\"hash-安装-Oracle-Java-8-JDK\">安装 Oracle Java 8 JDK</h3>\n<p>注意：要安装 Oracle Java 8 JDK，您需要转到 Oracle Java 8 JDK 下载页面，接受许可协议，并复制相应 Linux <code>.rpm</code> 软件包的下载链接。\r\n切换到您的主目录并使用以下命令下载 Oracle Java 8 JDK RPM：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> ~\n<span class=\"token function\">wget</span> --no-cookies --no-check-certificate --header <span class=\"token string\">\"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\"</span> <span class=\"token string\">\"http://link_copied_from_site\"</span>\n</code></pre></div>\n<p>然后使用此 <code>yum</code> 命令安装 RPM（如果您下载了其他版本，请在此处替换文件名）：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum localinstall jdk-8u161-linux-x64.rpm\n</code></pre></div>\n<p>确认提示下，输入 <code>y</code> 然后 RETURN 继续安装。</p>\n<p>现在 Java 应该安装在 <code>/usr/java/jdk1.8.0_161/jre/bin/java</code> ，并从 <code>/usr/java/jdk1.8.0_161/jre/bin/java</code> 链接。</p>\n<p>您可以删除先前下载的存档文件：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> ~/jdk-8u161-linux-x64.rpm\n</code></pre></div>\n<h2 id=\"hash-设置默认-Java\">设置默认 Java</h2>\n<p>如果您安装了多个版本的 Java，则需要将其中的某一个设置为默认值（即用户运行java命令时将运行的版本）。\r\n此外，某些应用程序需要设置某些环境变量来定位要使用的 Java 安装。本节将向您展示如何执行此操作。</p>\n<p>顺便说一句，要检查默认 Java 的版本，请运行以下命令：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">java -version\n</code></pre></div>\n<h3 id=\"hash-使用-Alternatives\">使用 Alternatives</h3>\n<p><code>alternatives</code> 命令通过符号链接管理默认命令，可用于选择默认 Java 命令。</p>\n<p>要打印提供 java 由其管理的命令的程序 alternatives，请使用以下命令：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> alternatives --config java\n</code></pre></div>\n<p>输出应该类似以下结果：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">output\nThere are <span class=\"token number\">5</span> programs <span class=\"token function\">which</span> provide <span class=\"token string\">'java'</span><span class=\"token builtin class-name\">.</span>\n\n  Selection    Command\n-----------------------------------------------\n   <span class=\"token number\">1</span>           java-1.7.0-openjdk.x86_64 <span class=\"token punctuation\">(</span>/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.161-2.6.12.0.el7_4.x86_64/jre/bin/java<span class=\"token punctuation\">)</span>\n   <span class=\"token number\">2</span>           java-1.8.0-openjdk.x86_64 <span class=\"token punctuation\">(</span>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-5.b12.el7_4.x86_64/jre/bin/java<span class=\"token punctuation\">)</span>\n   <span class=\"token number\">3</span>           /usr/lib/jvm/jre-1.6.0-openjdk.x86_64/bin/java\n*+ <span class=\"token number\">4</span>           /usr/java/jre-9.0.4/bin/java\n   <span class=\"token number\">5</span>           /usr/java/jdk-9.0.4/bin/java\n\n\n\n\nEnter to keep the current selection<span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span>, or <span class=\"token builtin class-name\">type</span> selection number: \n\n</code></pre></div>\n<p>只需输入选择号即可选择java默认情况下应使用的可执行文件。</p>\n<h3 id=\"hash-使用环境变量\">使用环境变量</h3>\n<p>许多 Java 应用程序使用 JAVA_HOME 或 JRE_HOME 环境变量来确定 Java 要使用的可执行文件。</p>\n<p>例如，如果您安装Java在  <code>/usr/java/jdk1.8.0_161/jre/bin</code>（即 Java 可执行文件位于<code>/usr/java/jdk1.8.0_161/jre/bin/java</code>），\r\n您可以设置环境变量 JAVA_HOME 在 bash shell 或脚本中，如下所示：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/usr/java/jdk1.8.0_161/jre\n</code></pre></div>\n<p>如果要将环境变量 JAVA_HOME 在系统上为每个用户可用，请运行以下命令：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">sh</span> -c <span class=\"token string\">\"echo export JAVA_HOME=/usr/java/jdk1.8.0_161/jre >> /etc/environment\"</span>\n</code></pre></div>\n","words":3265,"toc":[{"depth":2,"value":"介绍","id":"hash-介绍"},{"depth":2,"value":"先决条件","id":"hash-先决条件"},{"depth":2,"value":"Java的变化","id":"hash-Java的变化"},{"depth":2,"value":"安装OpenJDK 8","id":"hash-安装OpenJDK-8"},{"depth":2,"value":"设置默认 Java","id":"hash-设置默认-Java"}],"title":"在 CentOS/Fedora 下安装 JAVA 环境","author":"高国良","type":"posts","series":false,"date":"2019-04-04T23:43:00.791Z","tags":["centos","java"],"description":"Java 是一个流行的软件平台，允许您运行 Java 应用程序。","draft":false,"cover":false},"prev":{"title":"Fedora29 安装 spring tool suite 4.2","author":"高国良","type":"posts","series":false,"date":1554413220791,"tags":["spring","java"],"description":false,"draft":false,"cover":false,"path":"/blogs/2019/install-spring-tool-suite-4.2-on-fedora29","slug":"2019/install-spring-tool-suite-4.2-on-fedora29"},"next":{"title":"VLC-FM PLAYLIST","author":"高国良","type":"posts","series":false,"date":1556741760791,"tags":["fm"],"description":"VLC FM PLAYLIST.xspf","draft":false,"cover":false,"path":"/blogs/2019/vlc-fm-playlist","slug":"2019/vlc-fm-playlist"}},"__N_SSG":true}