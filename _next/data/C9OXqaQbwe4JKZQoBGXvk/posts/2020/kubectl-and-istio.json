{"pageProps":{"post":{"id":["2020","kubectl-and-istio"],"contentHtml":"<h2 id=\"hash-一、Kubectl\">一、Kubectl</h2>\n<p><code>kubectl</code> 是 Kubernetes 的命令行工具，通过它可以对 Kubernetes 集群执行指定的命令。\n通过 <code>kubectl</code> 你可以部署应用，检查和管理集群资源并查看日志等。</p>\n<h3 id=\"hash-1-安装-kubectl\">1. 安装 kubectl</h3>\n<p><strong>Linux</strong> ubuntu 系统</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> kubectl\n<span class=\"token comment\"># 测试</span>\nkubectl version --client\n</code></pre></div>\n<p><strong>Macos</strong> 系统</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> kubectl\n<span class=\"token comment\"># 测试</span>\nkubectl version --client\n</code></pre></div>\n<h3 id=\"hash-2-配置-kubectl-自动补全\">2. 配置 kubectl 自动补全</h3>\n<p>kubectl 为 bash 和 zsh 提供自动补全能力。<code>kubectl completion bash</code> 命令可生成 Bash 的自动补全脚本，该脚本基于 <strong>bash-completion</strong>，需要线安装该软件。</p>\n<p><strong>Linux</strong> 系统</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 该命令会创建 `/usr/share/bash-completion/bash_completion`</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> bash-completion\n<span class=\"token comment\"># 启用kubectl自动补全</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'source &#x3C;(kubectl completion bash)'</span> <span class=\"token operator\">>></span>~/.bashrc\n</code></pre></div>\n<p><strong>MacOS</strong> 系统</p>\n<p>将以下内容添加到 <code>~/.zshrc</code> 文件中：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">autoload -Uz compinit\ncompinit\n<span class=\"token builtin class-name\">source</span> <span class=\"token operator\">&#x3C;</span><span class=\"token punctuation\">(</span>kubectl completion <span class=\"token function\">zsh</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 id=\"hash-二、Istioctl\">二、Istioctl</h2>\n<h3 id=\"hash-1-安装-istioctl\">1. 安装 istioctl</h3>\n<p><strong>Linux</strong> 系统</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> istioctl\n</code></pre></div>\n<p><strong>Macos</strong> 系统</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> istioctl\n</code></pre></div>\n<h3 id=\"hash-2-配置-istioctl-自动补全\">2. 配置 istioctl 自动补全</h3>\n<p>要 istioctl 在系统上启用完成功能，请执行以下步骤：</p>\n<p><strong>Linux</strong> 系统</p>\n<p>如果您使用的是基于 Linux 的操作系统，则可以使用以下 <code>apt-get install bash-completion</code> 命令安装Bash完成包：基于 Debian 的 Linux 发行版\n或 <code>yum install bash-completion</code> 基于 RPM 的 Linux 发行版，这是最常见的两种情况。</p>\n<p>在 Linux 系统上安装了 bash-completion 软件包之后，将以下行添加到~/.bash_profile文件中：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> -r <span class=\"token string\">\"/usr/local/etc/profile.d/bash_completion.sh\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token builtin class-name\">.</span> <span class=\"token string\">\"/usr/local/etc/profile.d/bash_completion.sh\"</span>\n</code></pre></div>\n<p><strong>MacOS</strong> 系统</p>\n<p>将以下内容添加到 <code>~/.zshrc</code> 文件中：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/_istioctl\n</code></pre></div>\n<h2 id=\"hash-三、参考\">三、参考</h2>\n<ol>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl/#optional-kubectl-configurations\">https://kubernetes.io/docs/tasks/tools/install-kubectl/#optional-kubectl-configurations</a></li>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://istio.io/latest/docs/ops/diagnostic-tools/istioctl/#istioctl-auto-completion\">https://istio.io/latest/docs/ops/diagnostic-tools/istioctl/#istioctl-auto-completion</a></li>\n</ol>\n","toc":[{"depth":2,"value":"一、Kubectl","id":"hash-一、Kubectl"},{"depth":2,"value":"二、Istioctl","id":"hash-二、Istioctl"},{"depth":2,"value":"三、参考","id":"hash-三、参考"}],"title":"安装和配置 kubectl & istioctl","date":"2020-08-09T03:13:31.000Z","draft":false,"description":"本文整理记录 ubuntu 操作系统上常见问题处理说明。","type":"posts","tags":["cloudnative","linux","kubernetes","service-mesh"],"series":[],"author":"Gl","cover":"cover.jpg"},"prev":{"title":"在 Linux 和 Windows 平台安装 Docker CE","date":1579681942000,"draft":false,"description":"Docker 是一个用于开发、交付和运行应用程序的开放平台。Docker 使您能够将应用程序与基础架构分开，以与管理应用程序相同的方式来管理基础架构，从而快速交付软件。通过利用 Docker 快速交付、测试和部署代码的方法，您可以大大缩短编写代码和在生产环境中运行代码之间的时间。","type":"posts","tags":["docker"],"series":[],"author":"Gl","cover":false,"slug":"2020/Install-docker-engine"},"next":{"title":"Gitlab CE Work Flow","date":1598659755000,"draft":false,"description":"Gitlab-CE 工作流最佳实践","type":"posts","tags":["devops","gitlab"],"series":["Gitlab"],"author":"Gauliang","cover":"Gitlab-1.png","slug":"2020/gitlab-ce-work-flow"}},"__N_SSG":true}