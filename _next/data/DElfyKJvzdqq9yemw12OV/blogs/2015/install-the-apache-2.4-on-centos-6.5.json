{"pageProps":{"id":["posts","2015","install-the-apache-2.4-on-centos-6.5"],"post":{"id":["posts","2015","install-the-apache-2.4-on-centos-6.5"],"contentHtml":"<h2 id=\"hash-一、下载\">一、下载</h2>\n<ul>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://httpd.apache.org/download.cgi\">http://httpd.apache.org/download.cgi</a></li>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://mirrors.cnnic.cn/apache//httpd/httpd-2.4.10.tar.gz\">http://mirrors.cnnic.cn/apache//httpd/httpd-2.4.10.tar.gz</a></li>\n</ul>\n<p>解决依赖关系的包</p>\n<ul>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://www.eu.apache.org/dist/apr/apr-1.5.1.tar.gz\">http://www.eu.apache.org/dist/apr/apr-1.5.1.tar.gz</a></li>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://www.eu.apache.org/dist/apr/apr-util-1.5.4.tar.gz\">http://www.eu.apache.org/dist/apr/apr-util-1.5.4.tar.gz</a></li>\n<li><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://softlayer-sng.dl.sourceforge.net/project/pcre/pcre/8.36/pcre-8.36.tar.gz\">http://softlayer-sng.dl.sourceforge.net/project/pcre/pcre/8.36/pcre-8.36.tar.gz</a></li>\n</ul>\n<h2 id=\"hash-二、解压\">二、解压</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxfhttpd-2.4.10.tar.gz\nmvhttpd-2.4.10.tar.gz Apache\n</code></pre></div>\n<h2 id=\"hash-三、处理依赖关系\">三、处理依赖关系</h2>\n<p>解决 apr not found 问题</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxf apr-1.5.1.tar.gz\n<span class=\"token builtin class-name\">cd</span>  apr-1.5.1  \n./configure --prefix<span class=\"token operator\">=</span>/usr/local/apr  \n<span class=\"token function\">make</span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>  \n</code></pre></div>\n<p>解决 APR-util not found 问题</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxf apr-util-1.3.12.tar.gz  \n<span class=\"token builtin class-name\">cd</span> apr-util-1.3.12\n./configure --prefix<span class=\"token operator\">=</span>/usr/local/apr-util -with- <span class=\"token assign-left variable\">apr</span><span class=\"token operator\">=</span>/usr/local/apr/bin/apr-1-config  \n<span class=\"token function\">make</span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span> \n</code></pre></div>\n<p>解决pcre问题</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxf pcre-8.36.tar.gz\n<span class=\"token builtin class-name\">cd</span>  pcre-8.36\n./configure --prefix<span class=\"token operator\">=</span>/usr/local/pcre  \n<span class=\"token function\">make</span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n</code></pre></div>\n<h2 id=\"hash-四、卸载自带的-apache\">四、卸载自带的 apache</h2>\n<p>停止HTTPD服务，找到安装目了删除安装文件夹，再删除配置文件</p>\n<h2 id=\"hash-五、编译安装\">五、编译安装</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">./configure --prefix<span class=\"token operator\">=</span>/usr/local/apache2 --enable-deflate --enable-expires --enable-headers --enable-modules<span class=\"token operator\">=</span>most --enable-so --with-mpm<span class=\"token operator\">=</span>worker --enable-rewrite --with-apr<span class=\"token operator\">=</span>/usr/local/apr --with-apr-util<span class=\"token operator\">=</span>/usr/local/apr-util --with-pcre<span class=\"token operator\">=</span>/usr/local/pcre\n</code></pre></div>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>\n</code></pre></div>\n<h2 id=\"hash-五、卸载-Apache\">五、卸载 Apache</h2>\n<p>源码编译安装时通过--prefix 参数指定了安装目录，先停止所有服务，把安装目录文件夹删除，然后再到/etc配置文件下删除配置文件。\n然后再通过 find 命令确定一下就可以了</p>\n<h2 id=\"hash-六、添加为服务\">六、添加为服务</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> /usr/local/apache2/bin/apachectl /etc/rc.d/init.d/httpd\n<span class=\"token function\">vi</span> /etc/rc.d/init.d/httpd\n\n<span class=\"token comment\"># 添加(#!/bin/sh下面)</span>\n<span class=\"token comment\"># chkconfig: 2345 50 90</span>\n<span class=\"token comment\"># description: Activates/Deactivates Apache Web Server</span>\n\n<span class=\"token comment\"># 运行chkconfig把Apache添加到系统的启动服务组里面：</span>\n<span class=\"token comment\"># chkconfig --add httpd</span>\n<span class=\"token comment\"># chkconfig httpd on</span>\n\n<span class=\"token comment\"># 启动服务</span>\n<span class=\"token function\">service</span> httpd start\n</code></pre></div>\n","words":1461,"toc":[{"depth":2,"value":"一、下载","id":"hash-一、下载"},{"depth":2,"value":"二、解压","id":"hash-二、解压"},{"depth":2,"value":"三、处理依赖关系","id":"hash-三、处理依赖关系"},{"depth":2,"value":"四、卸载自带的 apache","id":"hash-四、卸载自带的-apache"},{"depth":2,"value":"五、编译安装","id":"hash-五、编译安装"},{"depth":2,"value":"五、卸载 Apache","id":"hash-五、卸载-Apache"},{"depth":2,"value":"六、添加为服务","id":"hash-六、添加为服务"}],"title":"CENTOS 6.5 平台离线安装 Apache2.4","author":"高国良","type":"posts","series":false,"date":"2015-03-26T14:03:00.791Z","tags":["centos","apache，Linux"],"description":"下载、解压、处理依赖、编译、添加服务","draft":false,"cover":false},"prev":{"title":"Bringing Whoops Back to Laravel 5","author":"高国良","type":"posts","series":false,"date":1426151160791,"tags":["laravel","php"],"description":"You might be missing the \"prettier\" Whoops error handler from Laravel 4. If so, here's how to bring it back.","draft":false,"cover":false,"path":"/blogs/2015/bringing-whoops-back-to-laravel-5","slug":"2015/bringing-whoops-back-to-laravel-5"},"next":{"title":"CENTOS 6.5 平台离线编译安装 Mysql5.6.22","author":"高国良","type":"posts","series":false,"date":1427404680791,"tags":["Mysql","linux"],"description":"一、下载源码包http__ERR__//cdn.mysql.com/archives/mysql-5.6/mysql-5.6.22.tar.gz二、准备工作卸载之前本机自带的MYSQL安装cmake,编译MYSQL 的工具yum install cmake三、解压源码包tar -zxv -f mysql-5.6...","draft":false,"cover":false,"path":"/blogs/2015/install-the-mysql-5.6.2-on-centos-6.5","slug":"2015/install-the-mysql-5.6.2-on-centos-6.5"}},"__N_SSG":true}