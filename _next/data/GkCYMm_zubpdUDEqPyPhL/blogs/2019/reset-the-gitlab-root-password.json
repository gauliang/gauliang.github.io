{"pageProps":{"id":["posts","2019","reset-the-gitlab-root-password"],"post":{"id":["posts","2019","reset-the-gitlab-root-password"],"contentHtml":"<div class=\"image-widget\"><img src=\"/attachments/posts/2019/reset-the-gitlab-root-password.files/634103-20190812005008821-76726312.png\" alt=\"\"></div>\n<p>要重置root密码，请先使用root权限登录服务器。使用以下命令启动Ruby on Rails控制台：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">gitlab-rails console production\n</code></pre></div>\n<p>等到控制台加载完毕，您可以通过搜索电子邮件或用户名等方法找到您的账号。</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">user <span class=\"token operator\">=</span> User.where<span class=\"token punctuation\">(</span>id: <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>.first\n</code></pre></div>\n<p>或者</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">user <span class=\"token operator\">=</span> User.find_by<span class=\"token punctuation\">(</span>email: <span class=\"token string\">'admin@local.host'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>找出用户以后，可以更改其密码：</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">user.password <span class=\"token operator\">=</span> <span class=\"token number\">12345678</span>\nuser.password_confirmation <span class=\"token operator\">=</span> <span class=\"token number\">12345678</span>\n</code></pre></div>\n<p>最后，保存上面的更改，即可使用新密码登录。</p>\n","words":360,"toc":[],"title":"Gitlab 重置 root 密码","author":"高国良","type":"posts","series":false,"date":"2019-07-11T08:07:00.791Z","tags":["password","git"],"description":"","draft":false,"cover":false},"prev":{"title":"Gitlab 安装","author":"高国良","type":"posts","series":false,"date":1559030100791,"tags":["git"],"description":"使用 Gitlab 搭建 Git Server","draft":false,"cover":false,"path":"/blogs/2019/gitlab-installation","slug":"2019/gitlab-installation"},"next":{"title":"基于 K8S 集群安装部署 istio-1.2.4","author":"高国良","type":"posts","series":false,"date":1567269900791,"tags":["kubernetes","istio"],"description":"使用云平台可以为组织提供丰富的好处。然而，不可否认的是，采用云可能会给 DevOps 团队带来压力。Istio 允许您连接、保护、控制和观测服务。","draft":false,"cover":false,"path":"/blogs/2019/install-istio-1.2.4-based-on-the-k8s-cluster","slug":"2019/install-istio-1.2.4-based-on-the-k8s-cluster"}},"__N_SSG":true}