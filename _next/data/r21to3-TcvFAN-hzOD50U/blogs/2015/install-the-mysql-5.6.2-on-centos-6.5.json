{"pageProps":{"id":["posts","2015","install-the-mysql-5.6.2-on-centos-6.5"],"post":{"id":["posts","2015","install-the-mysql-5.6.2-on-centos-6.5"],"contentHtml":"<h2 id=\"hash-一、下载源码包\">一、下载源码包</h2>\n<p><a target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://cdn.mysql.com/archives/mysql-5.6/mysql-5.6.22.tar.gz\">http://cdn.mysql.com/archives/mysql-5.6/mysql-5.6.22.tar.gz</a></p>\n<h2 id=\"hash-二、准备工作\">二、准备工作</h2>\n<p>卸载之前本机自带的MYSQL</p>\n<p>安装cmake,编译MYSQL 的工具</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> cmake\n</code></pre></div>\n<h2 id=\"hash-三、解压源码包\">三、解压源码包</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> -zxv -f mysql-5.6.16.tar.gz  <span class=\"token builtin class-name\">cd</span> mysql-5.6.16\n</code></pre></div>\n<h2 id=\"hash-四、CMake编译\">四、CMake编译</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">cmake <span class=\"token punctuation\">\\</span>   -DCMAKE_INSTALL_PREFIX<span class=\"token operator\">=</span>/usr/local/mysql <span class=\"token punctuation\">\\</span>   -DMYSQL_UNIX_ADDR<span class=\"token operator\">=</span>/usr/local/mysql/mysql.sock <span class=\"token punctuation\">\\</span>   -DDEFAULT_CHARSET<span class=\"token operator\">=</span>utf8 <span class=\"token punctuation\">\\</span>   -DDEFAULT_COLLATION<span class=\"token operator\">=</span>utf8_general_ci <span class=\"token punctuation\">\\</span>   -DWITH_INNOBASE_STORAGE_ENGINE<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">\\</span>   -DWITH_ARCHIVE_STORAGE_ENGINE<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">\\</span>   -DWITH_BLACKHOLE_STORAGE_ENGINE<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">\\</span>   -DMYSQL_DATADIR<span class=\"token operator\">=</span>/jbdata/mysqldb <span class=\"token punctuation\">\\</span>   -DMYSQL_TCP_PORT<span class=\"token operator\">=</span><span class=\"token number\">3306</span> <span class=\"token punctuation\">\\</span>   -DENABLE_DOWNLOADS<span class=\"token operator\">=</span><span class=\"token number\">1</span>  注：重新运行配置，需要删除CMakeCache.txt文件执行makemake安装make <span class=\"token function\">install</span>\n</code></pre></div>\n<h2 id=\"hash-五、初始化-mysql-数据库\">五、初始化 mysql 数据库</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /usr/local/mysql   scripts/mysql_install_db --user<span class=\"token operator\">=</span>mysql --datadir<span class=\"token operator\">=</span>/data/mysqldb  \n</code></pre></div>\n<h2 id=\"hash-六、复制启动文件\">六、复制启动文件</h2>\n<p>To start mysqld at boot time you have to copy <code>support-files/mysql.server</code> to the right place\nfor your system</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf\n</code></pre></div>\n<h2 id=\"hash-七、复制服务启动脚本及加入PATH路径\">七、复制服务启动脚本及加入PATH路径</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> support-files/mysql.server /etc/init.d/mysqld\n</code></pre></div>\n<p>修改PATH环境变量，让系统可以直接使用mysql的相关命令。</p>\n<p>#vim /etc/profile.d/mysql.sh</p>\n<p>export PATH=$PATH:/usr/local/mysql/bin</p>\n<p>-------------------------------------------------------------------------------------</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">vim /etc/profile           PATH=/usr/local/mysql/bin:/usr/local/mysql/lib:$PATH          export PATH    source /etc/profile  </code></pre></div>\n<h2 id=\"hash-八、启动mysql并加入开机启动\">八、启动mysql并加入开机启动</h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">service mysqld start chkconfig --level 35 mysqld on</code></pre></div>\n<h2 id=\"hash-九、检查mysql是否启动\">九、检查mysql是否启动</h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">netstat -tulnp | grep 3306   mysql -u root -p  </code></pre></div>\n<h2 id=\"hash-十、设置mysql密码\">十、设置mysql密码</h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !To do so, start the server, then issue the following commands:  ./bin/mysqladmin -u root password &#x26;#39;new-password&#x26;#39;  ./bin/mysqladmin -u root -h localhost.localdomain password &#x26;#39;new-password&#x26;#39;Alternatively you can run:  ./bin/mysql_secure_installation</code></pre></div>\n","words":1630,"toc":[{"depth":2,"value":"一、下载源码包","id":"hash-一、下载源码包"},{"depth":2,"value":"二、准备工作","id":"hash-二、准备工作"},{"depth":2,"value":"三、解压源码包","id":"hash-三、解压源码包"},{"depth":2,"value":"四、CMake编译","id":"hash-四、CMake编译"},{"depth":2,"value":"五、初始化 mysql 数据库","id":"hash-五、初始化-mysql-数据库"},{"depth":2,"value":"六、复制启动文件","id":"hash-六、复制启动文件"},{"depth":2,"value":"七、复制服务启动脚本及加入PATH路径","id":"hash-七、复制服务启动脚本及加入PATH路径"},{"depth":2,"value":"八、启动mysql并加入开机启动","id":"hash-八、启动mysql并加入开机启动"},{"depth":2,"value":"九、检查mysql是否启动","id":"hash-九、检查mysql是否启动"},{"depth":2,"value":"十、设置mysql密码","id":"hash-十、设置mysql密码"}],"title":"CENTOS 6.5 平台离线编译安装 Mysql5.6.22","author":"高国良","type":"posts","series":false,"date":"2015-03-26T21:18:00.791Z","tags":["Mysql","linux"],"description":false,"draft":false,"cover":false},"prev":{"title":"CENTOS 6.5 平台离线安装 Apache2.4","author":"高国良","type":"posts","series":false,"date":1427378580791,"tags":["centos","apache","Linux"],"description":"下载、解压、处理依赖、编译、添加服务","draft":false,"cover":false,"path":"/blogs/2015/install-the-apache-2.4-on-centos-6.5","slug":"2015/install-the-apache-2.4-on-centos-6.5"},"next":{"title":"PHP 5.6 编译安装选项说明","author":"高国良","type":"posts","series":false,"date":1427405940791,"tags":["php"],"description":"configuresthis package to adapt to many kinds of systems.","draft":false,"cover":false,"path":"/blogs/2015/building-from-source-php-5.6","slug":"2015/building-from-source-php-5.6"}},"__N_SSG":true}