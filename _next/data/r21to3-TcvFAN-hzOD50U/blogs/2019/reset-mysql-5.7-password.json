{"pageProps":{"id":["posts","2019","reset-mysql-5.7-password"],"post":{"id":["posts","2019","reset-mysql-5.7-password"],"contentHtml":"<h2 id=\"hash-一、以安全模式登录\">一、以安全模式登录</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Stop MySQL</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysql stop\n\n<span class=\"token comment\"># Make MySQL service directory.</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> -p /var/run/mysqld\n\n<span class=\"token comment\"># Give MySQL user permission to write to the service directory.</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> mysql:mysql /var/run/mysqld\n\n<span class=\"token comment\"># Start MySQL manually, without permission checks or networking.</span>\n<span class=\"token function\">sudo</span> mysqld_safe --skip-grant-tables <span class=\"token operator\">&#x26;</span>\n\n<span class=\"token comment\"># Log in without a password.</span>\nmysql -u root\n</code></pre></div>\n<h2 id=\"hash-二、修改密码\">二、修改密码</h2>\n<div class=\"remark-highlight\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span> <span class=\"token keyword\">SET</span> authentication_string<span class=\"token operator\">=</span>PASSWORD<span class=\"token punctuation\">(</span><span class=\"token string\">'NEW-PASSWORD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> plugin<span class=\"token operator\">=</span><span class=\"token string\">'mysql_native_password'</span> <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">User</span><span class=\"token operator\">=</span><span class=\"token string\">'root'</span> <span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">EXIT</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 id=\"hash-三、重启数据库\">三、重启数据库</h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\"># Turn off MySQL.\r\nsudo mysqladmin -S /var/run/mysqld/mysqld.sock shutdown\r\n\r\n# Start the MySQL service normally.\r\nsudo service mysql start</code></pre></div>\n","words":583,"toc":[{"depth":2,"value":"一、以安全模式登录","id":"hash-一、以安全模式登录"},{"depth":2,"value":"二、修改密码","id":"hash-二、修改密码"},{"depth":2,"value":"三、重启数据库","id":"hash-三、重启数据库"}],"title":"MySql 5.7 重置root密码","author":"高国良","type":"posts","series":false,"date":"2019-05-13T18:48:00.791Z","tags":["mysql","password"],"description":false,"draft":false,"cover":false},"prev":{"title":"Harbor — Installation and Configuration Guide","author":"高国良","type":"posts","series":false,"date":1557701640791,"tags":["docker"],"description":"Harbor is an open source trusted cloud native registry project that stores, signs, and scans content.","draft":false,"cover":false,"path":"/blogs/2019/installation-and-configuration-harbor","slug":"2019/installation-and-configuration-harbor"},"next":{"title":"Gitlab 安装","author":"高国良","type":"posts","series":false,"date":1559030100791,"tags":["git"],"description":"使用 Gitlab 搭建 Git Server","draft":false,"cover":false,"path":"/blogs/2019/gitlab-installation","slug":"2019/gitlab-installation"}},"__N_SSG":true}