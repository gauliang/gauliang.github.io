<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>Harbor — Installation and Configuration Guide - Gauliang</title><meta name="next-head-count" content="3"/><link href="https://unpkg.com/prismjs@0.0.1/themes/prism-okaidia.css" rel="stylesheet"/><link rel="icon" href="/favicon.svg"/><link rel="apple-touch-icon" href="/favicon.png"/><link rel="apple-touch-startup-image" href="/favicon.png"/><link rel="manifest" href="/manifest.json"/><meta name="apple-mobile-web-app-title" content="Blog"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="theme-color" content="#FFF"/><link rel="preload" href="/_next/static/css/5f73603ea6e352ce.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5f73603ea6e352ce.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-d7b038a63b619762.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-03586e2758997a42.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f1e48f2808f3843c.js" defer=""></script><script src="/_next/static/chunks/0c428ae2-cbec42c88474d6d7.js" defer=""></script><script src="/_next/static/chunks/167-1f992d16f0af3a0d.js" defer=""></script><script src="/_next/static/chunks/424-df8d47b174038bde.js" defer=""></script><script src="/_next/static/chunks/pages/blogs/%5B...id%5D-6a2f6ffd029f66d2.js" defer=""></script><script src="/_next/static/DElfyKJvzdqq9yemw12OV/_buildManifest.js" defer=""></script><script src="/_next/static/DElfyKJvzdqq9yemw12OV/_ssgManifest.js" defer=""></script><script src="/_next/static/DElfyKJvzdqq9yemw12OV/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><nav class="md:sticky md:top-0 backdrop-blur md:bg-white/80 border-gray-200 md:border-b py-1 md:py-5 md:px-5 dark:bg-gray-800 dark:border-gray-700 z-10"><div class="md:container md:mx-auto flex flex-wrap flex-col md:flex-row justify-between"><div class="hidden md:flex px-5 md:px-0 flex-row justify-between text-[#0069ff] dark:text-white"><div class="flex flex-row cursor-pointer"><div class="w-6 h-6 my-2 md:w-8 md:h-8 md:my-1"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M238.74,366.17c-24.56,0.42-12.59,0.42-36.76,0 C92.86,358.74,92.54,257.24,92.54,257.24s-3.78-104.91,109.44-110.42c105.79,0.4,195.22,0.23,242.54,0.08 c40.86-0.53,36.61-7.61,26.7-24.61C447.75,81.99,384.8,3.28,250.71,0C-60.02,17.45-88.35,433.93,194.97,504.76 c42.5,12.75,91.65,4.77,91.65,4.77s-0.23-52.54,0-94.13C286.82,378.65,274.71,365.55,238.74,366.17z M482.55,207.28 c-12,0.02-229.21,1.03-280.57,0.86c-48.75-0.16-48.73,49.23-48.73,49.23s0.19,47.49,48.73,47.5c-0.03,0,109.56-0.35,121.41,0 c11.91,0.35,24.03,12.59,23.94,25.04c-0.19,27.35,0.46,163.59,0.64,163.53c24.08-8.5,157.24-66.58,161.49-236.57 C510.08,231.99,506.75,207.3,482.55,207.28z"></path></svg></div><span class="text-xl h-8 ml-2 my-1.5 font-semibold">Gauliang</span></div><div class="md:hidden"><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:R9d6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></div></div><div class="hidden md:flex items-start md:items-center flex-col md:flex-row mt-2 md:mt-0 mb-5 md:mb-0"><ul class="flex flex-row justify-between ml-2 md:ml-0 space-x-0 md:space-x-6 "><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/">首页</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none text-blue-500 border-b-2 border-blue-500" href="/blogs/">博客</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/tags/">标签</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/series/">系列</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/about/">关于</a></li></ul><ul class="flex-row space-x-6 border-l dark:border-slate-600 ml-6 pl-6 hidden md:flex"><li><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:Rqd6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></li><li><a href="https://github.com/gauliang" target="_blank" rel="noreferrer" class="block py-1 "><svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.463 2 11.97c0 4.404 2.865 8.14 6.839 9.458.5.092.682-.216.682-.48 0-.236-.008-.864-.013-1.695-2.782.602-3.369-1.337-3.369-1.337-.454-1.151-1.11-1.458-1.11-1.458-.908-.618.069-.606.069-.606 1.003.07 1.531 1.027 1.531 1.027.892 1.524 2.341 1.084 2.91.828.092-.643.35-1.083.636-1.332-2.22-.251-4.555-1.107-4.555-4.927 0-1.088.39-1.979 1.029-2.675-.103-.252-.446-1.266.098-2.638 0 0 .84-.268 2.75 1.022A9.606 9.606 0 0112 6.82c.85.004 1.705.114 2.504.336 1.909-1.29 2.747-1.022 2.747-1.022.546 1.372.202 2.386.1 2.638.64.696 1.028 1.587 1.028 2.675 0 3.83-2.339 4.673-4.566 4.92.359.307.678.915.678 1.846 0 1.332-.012 2.407-.012 2.734 0 .267.18.577.688.48C19.137 20.107 22 16.373 22 11.969 22 6.463 17.522 2 12 2z"></path></svg></a></li></ul></div><div class="flex pl-2 pr-5 justify-between items-center md:hidden"><a class="flex flex-row items-center justify-start space-x-2 text-blue-500 dark:text-blue-500 font-bold" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg><span>首页</span></a><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:Rbd6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></div></div></nav><main class="mx-auto container"><div class="mx-5 xl:mx-10 flex flex-row md:space-x-8"><div class="hidden md:block md:basis-1/6 shrink-0 py-20"><div class="sticky top-28"><div class="uppercase text-black dark:text-white font-bold">Contents</div><ul class="TableOfContents text-gray-400 mt-5 text-sm"><li class="mb-3"><a href="#hash-Prerequisites-for-the-target-host" class="nav-link ">Prerequisites for the target host</a></li><li class="mb-3"><a href="#hash-Installation-Steps" class="nav-link ">Installation Steps</a></li><li class="mb-3"><a href="#hash-Configuring-Harbor-listening-on-a-customized-port" class="nav-link ">Configuring Harbor listening on a customized port</a></li><li class="mb-3"><a href="#hash-Configuring-Harbor-using-the-external-database" class="nav-link ">Configuring Harbor using the external database</a></li><li class="mb-3"><a href="#hash-Manage-user-settings" class="nav-link ">Manage user settings</a></li><li class="mb-3"><a href="#hash-Performance-tuning" class="nav-link ">Performance tuning</a></li><li class="mb-3"><a href="#hash-Troubleshooting" class="nav-link ">Troubleshooting</a></li></ul></div></div><div class="basis-3/3 w-full md:w-1 md:basis-5/6 xl:basis-4/6"><div class="md:mb-12 border-gray-200 py-8 md:py-20"><div class="flex space-x-2 items-center text-sm font-light text-gray-600 dark:text-gray-400"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg><div>阅读全文约需 <!-- -->48<!-- --> 分钟<!-- --></div><div class="grow"></div></div><h1 class="text-2xl md:text-5xl md:leading-tight my-4 md:my-8 subpixel-antialiased font-semibold">Harbor — Installation and Configuration Guide</h1><div class="text-sm text-gray-600 dark:text-gray-400 font-light flex items-center space-x-2"><time>2019-05-13 06:54:00</time><span>By</span><span>高国良</span></div></div><article class="post-content"><p>Harbor can be installed by one of three approaches:</p>
<ul>
<li>
<p><strong>Online installer:</strong> The installer downloads Harbor's images from Docker hub. For this reason, the installer is very small in size.</p>
</li>
<li>
<p><strong>Offline installer:</strong> Use this installer when the host does not have an Internet connection. The installer contains pre-built images so its size is larger.</p>
</li>
</ul>
<p>All installers can be downloaded from the <strong><a target="_blank" target="_blank" class="ext-link" href="https://github.com/goharbor/harbor/releases">official release</a></strong> page.</p>
<p>This guide describes the steps to install and configure Harbor by using the online or offline installer. The installation processes are almost the same.</p>
<p>If you run a previous version of Harbor, you may need to update <code>harbor.cfg</code> and migrate the data to fit the new database schema.</p>
<p>In addition, the deployment instructions on Kubernetes has been created by the community.</p>
<h2 id="hash-Prerequisites-for-the-target-host">Prerequisites for the target host</h2>
<p>Harbor is deployed as several Docker containers, and, therefore, can be deployed on any Linux distribution that supports Docker. The target host requires Python, Docker, and Docker Compose to be installed.</p>
<h3 id="hash-Hardware">Hardware</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Resource</th>
<th>Capacity</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>minimal 2 CPU</td>
<td>4 CPU is preferred</td>
</tr>
<tr>
<td>Mem</td>
<td>minimal 4GB</td>
<td>8GB is preferred</td>
</tr>
<tr>
<td>Disk</td>
<td>minimal 40GB</td>
<td>160GB is preferred</td>
</tr>
</tbody>
</table></div>
<h3 id="hash-Software">Software</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Software</th>
<th>Version</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Python</td>
<td>version 2.7 or higher</td>
<td>Note that you may have to install Python on Linux distributions (Gentoo, Arch) that do not come with a Python interpreter installed by default</td>
</tr>
<tr>
<td>Docker engine</td>
<td>version 17.03.0-ce+ or higher</td>
<td>For installation instructions, please refer to: <a target="_blank" target="_blank" class="ext-link" href="https://docs.docker.com/engine/installation/">https://docs.docker.com/engine/installation/</a></td>
</tr>
<tr>
<td>Docker Compose</td>
<td>version 1.18.0 or higher</td>
<td>For installation instructions, please refer to: <a target="_blank" target="_blank" class="ext-link" href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></td>
</tr>
<tr>
<td>Openssl</td>
<td>latest is preferred</td>
<td>Generate certificate and keys for Harbor</td>
</tr>
</tbody>
</table></div>
<h3 id="hash-Network-ports">Network ports</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Port</th>
<th>Protocol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>443</td>
<td>HTTPS</td>
<td>Harbor portal and core API will accept requests on this port for https protocol</td>
</tr>
<tr>
<td>4443</td>
<td>HTTPS</td>
<td>Connections to the Docker Content Trust service for Harbor, only needed when Notary is enabled</td>
</tr>
<tr>
<td>80</td>
<td>HTTP</td>
<td>Harbor portal and core API will accept requests on this port for http protocol</td>
</tr>
</tbody>
</table></div>
<h2 id="hash-Installation-Steps">Installation Steps</h2>
<p>The installation steps boil down to the following</p>
<ol>
<li>Download the installer;</li>
<li>Configure <strong>harbor.cfg</strong>;</li>
<li>Run <strong>install.sh</strong> to install and start Harbor;</li>
</ol>
<h4 id="hash-Downloading-the-installer:">Downloading the installer:</h4>
<p>The binary of the installer can be downloaded from the <a target="_blank" target="_blank" class="ext-link" href="https://github.com/goharbor/harbor/releases">release</a> page. Choose either online or offline installer. Use <em>tar</em> command to extract the package.</p>
<p>Online installer:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">    $ tar xvf harbor-online-installer-&#x26;lt;version&#x26;gt;.tgz</code></pre></div>
<p>Offline installer:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">    $ tar xvf harbor-offline-installer-&#x26;lt;version&#x26;gt;.tgz</code></pre></div>
<h4 id="hash-Configuring-Harbor">Configuring Harbor</h4>
<p>Configuration parameters are located in the file <strong>harbor.cfg</strong>.</p>
<p>There are two categories of parameters in harbor.cfg, <strong>required parameters</strong> and <strong>optional parameters</strong>.</p>
<ul>
<li>
<p><strong>required parameters</strong>: These parameters are required to be set in the configuration file. They will take effect if a user updates them in <code>harbor.cfg</code> and run the <code>install.sh</code> script to reinstall Harbor.</p>
</li>
<li>
<p><strong>optional parameters</strong>: These parameters are optional for updating, i.e. user can leave them as default and update them on Web Portal after Harbor is started.  If they are set in <code>harbor.cfg</code>, they only take effect in the first launch of Harbor.
Subsequent update to these parameters in <code>harbor.cfg</code> will be ignored.</p>
<p><strong>Note:</strong> If you choose to set these parameters via the Portal, be sure to do so right after Harbor
is started. In particular, you must set the desired <strong>auth_mode</strong> before registering or creating any new users in Harbor. When there are users in the system (besides the default admin user),
<strong>auth_mode</strong> cannot be changed.</p>
</li>
</ul>
<p>The parameters are described below - note that at the very least, you will need to change the <strong>hostname</strong> attribute.</p>
<h5 id="hash-Required-parameters:">Required parameters:</h5>
<ul>
<li><strong>hostname</strong>: The target host's hostname, which is used to access the Portal and the registry service. It should be the IP address or the fully qualified domain name (FQDN) of your target machine, e.g., <code>192.168.1.10</code> or <code>reg.yourdomain.com</code>. <em>Do NOT use <code>localhost</code> or <code>127.0.0.1</code> for the hostname - the registry service needs to be accessible by external clients!</em></li>
<li><strong>ui_url_protocol</strong>: (<strong>http</strong> or <strong>https</strong>.  Default is <strong>http</strong>) The protocol used to access the Portal and the token/notification service.  If Notary is enabled, this parameter has to be <em>https</em>.  By default, this is <em>http</em>. To set up the https protocol, refer to <strong><a target="_blank" target="_blank" class="ext-link" href="configure_https.md">Configuring Harbor with HTTPS Access</a></strong>.</li>
<li><strong>db_password</strong>: The root password for the PostgreSQL database used for <strong>db_auth</strong>. <em>Change this password for any production use!</em></li>
<li><strong>max_job_workers</strong>: (default value is <strong>10</strong>) The maximum number of replication workers in job service. For each image replication job, a worker synchronizes all tags of a repository to the remote destination. Increasing this number allows more concurrent replication jobs in the system. However, since each worker consumes a certain amount of network/CPU/IO resources, please carefully pick the value of this attribute based on the hardware resource of the host.</li>
<li><strong>customize_crt</strong>: (<strong>on</strong> or <strong>off</strong>.  Default is <strong>on</strong>) When this attribute is <strong>on</strong>, the prepare script creates private key and root certificate for the generation/verification of the registry's token. Set this attribute to <strong>off</strong> when the key and root certificate are supplied by external sources. Refer to <a target="_blank" target="_blank" class="ext-link" href="customize_token_service.md">Customize Key and Certificate of Harbor Token Service</a> for more info.</li>
<li><strong>ssl_cert</strong>: The path of SSL certificate, it's applied only when the protocol is set to https.</li>
<li><strong>ssl_cert_key</strong>: The path of SSL key, it's applied only when the protocol is set to https.</li>
<li><strong>secretkey_path</strong>: The path of key for encrypt or decrypt the password of a remote registry in a replication policy.</li>
<li><strong>log_rotate_count</strong>: Log files are rotated <strong>log_rotate_count</strong> times before being removed. If count is 0, old versions are removed rather than rotated.</li>
<li><strong>log_rotate_size</strong>: Log files are rotated only if they grow bigger than <strong>log_rotate_size</strong> bytes. If size is followed by k, the size is assumed to be in kilobytes. If the M is used, the size is in megabytes, and if G is used, the size is in gigabytes. So size 100, size 100k, size 100M and size 100G are all valid.</li>
<li><strong>http_proxy</strong>: Config http proxy for Clair, e.g. <code>http://my.proxy.com:3128</code>.</li>
<li><strong>https_proxy</strong>: Config https proxy for Clair, e.g. <code>http://my.proxy.com:3128</code>.</li>
<li><strong>no_proxy</strong>: Config no proxy for Clair, e.g. <code>127.0.0.1,localhost,core,registry</code>.</li>
<li><strong>harbor_admin_password</strong>: The administrator's initial password. This password only takes effect for the first time Harbor launches. After that, this setting is ignored and the administrator's password should be set in the Portal. <em>Note that the default username/password are <strong>admin/Harbor12345</strong> .</em></li>
</ul>
<h4 id="hash-Configuring-storage-backend-optional-">Configuring storage backend (optional)</h4>
<p>By default, Harbor stores images on your local filesystem. In a production environment, you may consider
using other storage backend instead of the local filesystem, like S3, OpenStack Swift, Ceph, etc.
These parameters are configurations for registry.</p>
<ul>
<li><strong>registry_storage_provider_name</strong>:  Storage provider name of registry, it can be filesystem, s3, gcs, azure, etc. Default is filesystem.</li>
<li><strong>registry_storage_provider_config</strong>: Comma separated "key: value" pairs for storage provider config, e.g. "key1: value, key2: value2". Default is empty string.</li>
<li><strong>registry_custom_ca_bundle</strong>:  The path to the custom root ca certificate, which will be injected into the truststore of registry's and chart repository's containers.  This is usually needed when the user hosts a internal storage with self signed certificate.</li>
</ul>
<p>For example, if you use Openstack Swift as your storage backend, the parameters may look like this:</p>
<div class="remark-highlight"><pre class="language-ini"><code class="language-ini"><span class="token key attr-name">registry_storage_provider_name</span><span class="token punctuation">=</span><span class="token value attr-value">swift</span>
<span class="token key attr-name">registry_storage_provider_config</span><span class="token punctuation">=</span><span class="token value attr-value">"<span class="token inner-value">username: admin, password: ADMIN_PASS, authurl: http://keystone_addr:35357/v3/auth, tenant: admin, domain: default, region: regionOne, container: docker_images</span>"</span>
</code></pre></div>
<p><em>NOTE: For detailed information on storage backend of a registry, refer to <a target="_blank" target="_blank" class="ext-link" href="https://docs.docker.com/registry/configuration/">Registry Configuration Reference</a> .</em></p>
<h4 id="hash-Finishing-installation-and-starting-Harbor">Finishing installation and starting Harbor</h4>
<p>Once <strong>harbor.cfg</strong> and storage backend (optional) are configured, install and start Harbor using the <code>install.sh</code> script.  Note that it may take some time for the online installer to download Harbor images from Docker hub.</p>
<h5 id="hash-Default-installation-without-Notary/Clair-">Default installation (without Notary/Clair)</h5>
<p>Harbor has integrated with Notary and Clair (for vulnerability scanning). However, the default installation does not include Notary or Clair service.</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">    $ sudo ./install.sh</code></pre></div>
<p>If everything worked properly, you should be able to open a browser to visit the admin portal at <strong><a target="_blank" target="_blank" class="ext-link" href="http://reg.yourdomain.com">http://reg.yourdomain.com</a></strong> (change <em>reg.yourdomain.com</em> to the hostname configured in your <code>harbor.cfg</code>). Note that the default administrator username/password are admin/Harbor12345 .</p>
<p>Log in to the admin portal and create a new project, e.g. <code>myproject</code>. You can then use docker commands to login and push images (By default, the registry server listens on port 80):</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ docker login reg.yourdomain.com
$ docker push reg.yourdomain.com/myproject/myrepo:mytag</code></pre></div>
<p><strong>IMPORTANT:</strong> The default installation of Harbor uses <em>HTTP</em> - as such, you will need to add the option <code>--insecure-registry</code> to your client's Docker daemon and restart the Docker service.</p>
<h5 id="hash-Installation-with-Notary">Installation with Notary</h5>
<p>To install Harbor with Notary service, add a parameter when you run <code>install.sh</code>:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">    $ sudo ./install.sh --with-notary</code></pre></div>
<p><strong>Note</strong>: For installation with Notary the parameter <strong>ui_url_protocol</strong> must be set to "https". For configuring HTTPS please refer to the following sections.</p>
<p>More information about Notary and Docker Content Trust, please refer to Docker's documentation:
<a target="_blank" target="_blank" class="ext-link" href="https://docs.docker.com/engine/security/trust/content_trust/">https://docs.docker.com/engine/security/trust/content_trust/</a></p>
<h5 id="hash-Installation-with-Clair">Installation with Clair</h5>
<p>To install Harbor with Clair service, add a parameter when you run <code>install.sh</code>:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">    $ sudo ./install.sh --with-clair</code></pre></div>
<p>For more information about Clair, please refer to Clair's documentation:
<a target="_blank" target="_blank" class="ext-link" href="https://coreos.com/clair/docs/2.0.1/">https://coreos.com/clair/docs/2.0.1/</a></p>
<h5 id="hash-Installation-with-chart-repository-service">Installation with chart repository service</h5>
<p>To install Harbor with chart repository service, add a parameter when you run <code>install.sh</code>:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">    $ sudo ./install.sh --with-chartmuseum</code></pre></div>
<p><strong>Note</strong>: If you want to install Notary, Clair and chart repository service, you must specify all the parameters in the same command:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">    $ sudo ./install.sh --with-notary --with-clair --with-chartmuseum</code></pre></div>
<p>For information on how to use Harbor, please refer to <strong><a target="_blank" target="_blank" class="ext-link" href="user_guide.md">User Guide of Harbor</a></strong> .</p>
<h4 id="hash-Configuring-Harbor-with-HTTPS-access">Configuring Harbor with HTTPS access</h4>
<p>Harbor does not ship with any certificates, and, by default, uses HTTP to serve requests. While this makes it relatively simple to set up and run - especially for a development or testing environment - it is <strong>not</strong> recommended for a production environment.  To enable HTTPS, please refer to <strong><a target="_blank" target="_blank" class="ext-link" href="configure_https.md">Configuring Harbor with HTTPS Access</a></strong>.</p>
<h3 id="hash-Managing-Harbor&#x27;s-lifecycle">Managing Harbor's lifecycle</h3>
<p>You can use docker-compose to manage the lifecycle of Harbor. Some useful commands are listed as follows (must run in the same directory as <em>docker-compose.yml</em>).</p>
<p>Stopping Harbor:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose stop
Stopping nginx              ... done
Stopping harbor-portal      ... done
Stopping harbor-jobservice  ... done
Stopping harbor-core        ... done
Stopping registry           ... done
Stopping redis              ... done
Stopping registryctl        ... done
Stopping harbor-db          ... done
Stopping harbor-log         ... done</code></pre></div>
<p>Restarting Harbor after stopping:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose start
Starting log         ... done
Starting registry    ... done
Starting registryctl ... done
Starting postgresql  ... done
Starting core        ... done
Starting portal      ... done
Starting redis       ... done
Starting jobservice  ... done
Starting proxy       ... done</code></pre></div>
<p>To change Harbor's configuration, first stop existing Harbor instance and update <code>harbor.cfg</code>. Then run <code>prepare</code> script to populate the configuration. Finally re-create and start Harbor's instance:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose down -v
$ vim harbor.cfg
$ sudo prepare
$ sudo docker-compose up -d</code></pre></div>
<p>Removing Harbor's containers while keeping the image data and Harbor's database files on the file system:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose down -v</code></pre></div>
<p>Removing Harbor's database and image data (for a clean re-installation):</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ rm -r /data/database
$ rm -r /data/registry</code></pre></div>
<h4><em>Managing lifecycle of Harbor when it's installed with Notary</em></h4>
<p>When Harbor is installed with Notary, an extra template file <code>docker-compose.notary.yml</code> is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml [ up|down|ps|stop|start ]</code></pre></div>
<p>For example, if you want to change configuration in <code>harbor.cfg</code> and re-deploy Harbor when it's installed with Notary, the following commands should be used:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml down -v
$ vim harbor.cfg
$ sudo prepare --with-notary
$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml up -d</code></pre></div>
<h4><em>Managing lifecycle of Harbor when it's installed with Clair</em></h4>
<p>When Harbor is installed with Clair, an extra template file <code>docker-compose.clair.yml</code> is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml [ up|down|ps|stop|start ]</code></pre></div>
<p>For example, if you want to change configuration in <code>harbor.cfg</code> and re-deploy Harbor when it's installed with Clair, the following commands should be used:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml down -v
$ vim harbor.cfg
$ sudo prepare --with-clair
$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml up -d</code></pre></div>
<h4><em>Managing lifecycle of Harbor when it's installed with chart repository service</em></h4>
<p>When Harbor is installed with chart repository service, an extra template file <code>docker-compose.chartmuseum.yml</code> is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml [ up|down|ps|stop|start ]</code></pre></div>
<p>For example, if you want to change configuration in <code>harbor.cfg</code> and re-deploy Harbor when it's installed with chart repository service, the following commands should be used:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml down -v
$ vim harbor.cfg
$ sudo prepare --with-chartmuseum
$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml up -d</code></pre></div>
<h4><em>Managing lifecycle of Harbor when it's installed with Notary, Clair and chart repository service</em></h4>
<p>If you want to install Notary, Clair and chart repository service together, you should include all the components in the docker-compose and prepare commands:</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh">$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml -f ./docker-compose.clair.yml -f ./docker-compose.chartmuseum.yml down -v
$ vim harbor.cfg
$ sudo prepare --with-notary --with-clair --with-chartmuseum
$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml -f ./docker-compose.clair.yml -f ./docker-compose.chartmuseum.yml up -d</code></pre></div>
<p>Please check the <a target="_blank" target="_blank" class="ext-link" href="https://docs.docker.com/compose/reference/">Docker Compose command-line reference</a> for more on docker-compose.</p>
<h3 id="hash-Persistent-data-and-log-files">Persistent data and log files</h3>
<p>By default, registry data is persisted in the host's <code>/data/</code> directory.  This data remains unchanged even when Harbor's containers are removed and/or recreated.</p>
<p>In addition, Harbor uses <em>rsyslog</em> to collect the logs of each container. By default, these log files are stored in the directory <code>/var/log/harbor/</code> on the target host for troubleshooting.</p>
<h2 id="hash-Configuring-Harbor-listening-on-a-customized-port">Configuring Harbor listening on a customized port</h2>
<p>By default, Harbor listens on port 80(HTTP) and 443(HTTPS, if configured) for both admin portal and docker commands, you can configure it with a customized one.</p>
<h3 id="hash-For-HTTP-protocol">For HTTP protocol</h3>
<p>1.Modify docker-compose.yml<br>
Replace the first "80" to a customized port, e.g. 8888:80.</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">proxy:
    image: goharbor/nginx-photon:v1.6.0
    container_name: nginx
    restart: always
    volumes:
      - ./common/config/nginx:/etc/nginx:z
    ports:
      - 8888:80
      - 443:443
    depends_on:
      - postgresql
      - registry
      - core
      - portal
      - log
    logging:
      driver: &#x26;quot;syslog&#x26;quot;
      options:  
        syslog-address: &#x26;quot;tcp://127.0.0.1:1514&#x26;quot;
        tag: &#x26;quot;proxy&#x26;quot;</code></pre></div>
<p>2.Modify harbor.cfg, add the port to the parameter "hostname"</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">hostname = 192.168.0.2:8888</code></pre></div>
<p>3.Re-deploy Harbor referring to previous section "Managing Harbor's lifecycle".</p>
<h3 id="hash-For-HTTPS-protocol">For HTTPS protocol</h3>
<p>1.Enable HTTPS in Harbor by following this <a target="_blank" target="_blank" class="ext-link" href="https://github.com/goharbor/harbor/blob/master/docs/configure_https.md">guide</a>.<br>
2.Modify docker-compose.yml<br>
Replace the first "443" to a customized port, e.g. 8888:443.</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">proxy:
    image: goharbor/nginx-photon:v1.6.0
    container_name: nginx
    restart: always
    volumes:
      - ./common/config/nginx:/etc/nginx:z
    ports:
      - 80:80
      - 8888:443
    depends_on:
      - postgresql
      - registry
      - core
      - portal
      - log
    logging:
      driver: &#x26;quot;syslog&#x26;quot;
      options:  
        syslog-address: &#x26;quot;tcp://127.0.0.1:1514&#x26;quot;
        tag: &#x26;quot;proxy&#x26;quot;</code></pre></div>
<p>3.Modify harbor.cfg, add the port to the parameter "hostname"</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">hostname = 192.168.0.2:8888</code></pre></div>
<p>4.Re-deploy Harbor referring to previous section "Managing Harbor's lifecycle".</p>
<h2 id="hash-Configuring-Harbor-using-the-external-database">Configuring Harbor using the external database</h2>
<p>Currently, only PostgreSQL database is supported by Harbor.<br>
To user an external database, just uncomment the <code>external_database</code> section in <code>harbor.yml</code> and fill the necessary information. Four databases are needed to be create first by users for Harbor core, Clair, Notary server and Notary signer. And the tables will be generated automatically when Harbor starting up.</p>
<h2 id="hash-Manage-user-settings">Manage user settings</h2>
<p>After release 1.8.0, User settings are separated with system settings, and all user settings should be configured in web console or by HTTP request.
Please refer <a target="_blank" target="_blank" class="ext-link" href="configure_user_settings.md">Configure User Settings</a> to config user settings.</p>
<h2 id="hash-Performance-tuning">Performance tuning</h2>
<p>By default, Harbor limits the CPU usage of Clair container to 150000 and avoids its using up all the CPU resources. This is defined in the docker-compose.clair.yml file. You can modify it based on your hardware configuration.</p>
<h2 id="hash-Troubleshooting">Troubleshooting</h2>
<ol>
<li>When Harbor does not work properly, run the below commands to find out if all containers of Harbor are in <strong>UP</strong> status:</li>
</ol>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">    $ sudo docker-compose ps
        Name                     Command               State                    Ports                   
  -----------------------------------------------------------------------------------------------------------------------------
  harbor-core         /harbor/start.sh                 Up
  harbor-db           /entrypoint.sh postgres          Up      5432/tcp
  harbor-jobservice   /harbor/start.sh                 Up
  harbor-log          /bin/sh -c /usr/local/bin/ ...   Up      127.0.0.1:1514-&#x26;gt;10514/tcp
  harbor-portal       nginx -g daemon off;             Up      80/tcp
  nginx               nginx -g daemon off;             Up      0.0.0.0:443-&#x26;gt;443/tcp, 0.0.0.0:4443-&#x26;gt;4443/tcp, 0.0.0.0:80-&#x26;gt;80/tcp
  redis               docker-entrypoint.sh redis ...   Up      6379/tcp
  registry            /entrypoint.sh /etc/regist ...   Up      5000/tcp
  registryctl         /harbor/start.sh                 Up</code></pre></div>
<p>If a container is not in <strong>UP</strong> state, check the log file of that container in directory <code>/var/log/harbor</code>. For example, if the container <code>harbor-core</code> is not running, you should look at the log file <code>core.log</code>.</p>
<p>2.When setting up Harbor behind an nginx proxy or elastic load balancing, look for the line below, in <code>common/templates/nginx/nginx.http.conf</code> and remove it from the sections if the proxy already has similar settings: <code>location /</code>, <code>location /v2/</code> and <code>location /service/</code>.</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">proxy_set_header X-Forwarded-Proto $scheme;</code></pre></div>
<p>and re-deploy Harbor refer to the previous section "Managing Harbor's lifecycle".</p>
</article><div class="flex flex-wrap items-center md:space-x-2 my-24 pt-8 border-t border-solid border-gray-100 dark:border-gray-600"><div class="font-bold text-black text-base dark:text-white "><strong>标签：</strong></div><div class="text-blue-600 flex text-sm flex-wrap dark:text-slate-400"><a class="mr-4 hover:underline" href="/tags/docker/">DOCKER</a></div></div><div class="next-and-prev-post"><a class="prev-post" href="/blogs/2019/install-gradle-on-fedora30/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg><div class="text"><div class="caption">2019-05-12 23:07:00</div><div class="title">Fedora 30 安装 Gradle</div></div></a><a class="next-post" href="/blogs/2019/reset-mysql-5.7-password"><div class="text"><div class="caption">2019-05-14 02:48:00</div><div class="title">MySql 5.7 重置root密码</div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"></path></svg></a></div></div><div class="hidden xl:block xl:basis-1/6 shrink-0 relative "></div></div><button class="z-50 hidden md:flex scroll-to-top rounded-full whitespace-nowrap space-x-2 flex-row text-xs items-center uppercase py-2 px-5 text-white bg-blue-600 hover:bg-gray-800 transition"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"></path></svg><span>Scroll to top</span></button></main><footer class="border-t dark:border-gray-700"><div class="container mx-auto pt-12 pb-20 opacity-50 hover:opacity-100 transition duration-500"><div class="flex flex-row justify-center items-center space-x-5"><a class="flex justify-center text-blue-500 w-8 h-8" href="/"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M238.74,366.17c-24.56,0.42-12.59,0.42-36.76,0 C92.86,358.74,92.54,257.24,92.54,257.24s-3.78-104.91,109.44-110.42c105.79,0.4,195.22,0.23,242.54,0.08 c40.86-0.53,36.61-7.61,26.7-24.61C447.75,81.99,384.8,3.28,250.71,0C-60.02,17.45-88.35,433.93,194.97,504.76 c42.5,12.75,91.65,4.77,91.65,4.77s-0.23-52.54,0-94.13C286.82,378.65,274.71,365.55,238.74,366.17z M482.55,207.28 c-12,0.02-229.21,1.03-280.57,0.86c-48.75-0.16-48.73,49.23-48.73,49.23s0.19,47.49,48.73,47.5c-0.03,0,109.56-0.35,121.41,0 c11.91,0.35,24.03,12.59,23.94,25.04c-0.19,27.35,0.46,163.59,0.64,163.53c24.08-8.5,157.24-66.58,161.49-236.57 C510.08,231.99,506.75,207.3,482.55,207.28z"></path></svg></a><code class=" text-xs font-mono text-gray-500">$ echo &quot;simple things scale.&quot; </code></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":["posts","2019","installation-and-configuration-harbor"],"post":{"id":["posts","2019","installation-and-configuration-harbor"],"contentHtml":"\u003cp\u003eHarbor can be installed by one of three approaches:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eOnline installer:\u003c/strong\u003e The installer downloads Harbor's images from Docker hub. For this reason, the installer is very small in size.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eOffline installer:\u003c/strong\u003e Use this installer when the host does not have an Internet connection. The installer contains pre-built images so its size is larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAll installers can be downloaded from the \u003cstrong\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://github.com/goharbor/harbor/releases\"\u003eofficial release\u003c/a\u003e\u003c/strong\u003e page.\u003c/p\u003e\n\u003cp\u003eThis guide describes the steps to install and configure Harbor by using the online or offline installer. The installation processes are almost the same.\u003c/p\u003e\n\u003cp\u003eIf you run a previous version of Harbor, you may need to update \u003ccode\u003eharbor.cfg\u003c/code\u003e and migrate the data to fit the new database schema.\u003c/p\u003e\n\u003cp\u003eIn addition, the deployment instructions on Kubernetes has been created by the community.\u003c/p\u003e\n\u003ch2 id=\"hash-Prerequisites-for-the-target-host\"\u003ePrerequisites for the target host\u003c/h2\u003e\n\u003cp\u003eHarbor is deployed as several Docker containers, and, therefore, can be deployed on any Linux distribution that supports Docker. The target host requires Python, Docker, and Docker Compose to be installed.\u003c/p\u003e\n\u003ch3 id=\"hash-Hardware\"\u003eHardware\u003c/h3\u003e\n\u003cdiv class=\"table-responsive\"\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eResource\u003c/th\u003e\n\u003cth\u003eCapacity\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eCPU\u003c/td\u003e\n\u003ctd\u003eminimal 2 CPU\u003c/td\u003e\n\u003ctd\u003e4 CPU is preferred\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eMem\u003c/td\u003e\n\u003ctd\u003eminimal 4GB\u003c/td\u003e\n\u003ctd\u003e8GB is preferred\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eDisk\u003c/td\u003e\n\u003ctd\u003eminimal 40GB\u003c/td\u003e\n\u003ctd\u003e160GB is preferred\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/div\u003e\n\u003ch3 id=\"hash-Software\"\u003eSoftware\u003c/h3\u003e\n\u003cdiv class=\"table-responsive\"\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eSoftware\u003c/th\u003e\n\u003cth\u003eVersion\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ePython\u003c/td\u003e\n\u003ctd\u003eversion 2.7 or higher\u003c/td\u003e\n\u003ctd\u003eNote that you may have to install Python on Linux distributions (Gentoo, Arch) that do not come with a Python interpreter installed by default\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eDocker engine\u003c/td\u003e\n\u003ctd\u003eversion 17.03.0-ce+ or higher\u003c/td\u003e\n\u003ctd\u003eFor installation instructions, please refer to: \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://docs.docker.com/engine/installation/\"\u003ehttps://docs.docker.com/engine/installation/\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eDocker Compose\u003c/td\u003e\n\u003ctd\u003eversion 1.18.0 or higher\u003c/td\u003e\n\u003ctd\u003eFor installation instructions, please refer to: \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://docs.docker.com/compose/install/\"\u003ehttps://docs.docker.com/compose/install/\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eOpenssl\u003c/td\u003e\n\u003ctd\u003elatest is preferred\u003c/td\u003e\n\u003ctd\u003eGenerate certificate and keys for Harbor\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/div\u003e\n\u003ch3 id=\"hash-Network-ports\"\u003eNetwork ports\u003c/h3\u003e\n\u003cdiv class=\"table-responsive\"\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ePort\u003c/th\u003e\n\u003cth\u003eProtocol\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e443\u003c/td\u003e\n\u003ctd\u003eHTTPS\u003c/td\u003e\n\u003ctd\u003eHarbor portal and core API will accept requests on this port for https protocol\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e4443\u003c/td\u003e\n\u003ctd\u003eHTTPS\u003c/td\u003e\n\u003ctd\u003eConnections to the Docker Content Trust service for Harbor, only needed when Notary is enabled\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e80\u003c/td\u003e\n\u003ctd\u003eHTTP\u003c/td\u003e\n\u003ctd\u003eHarbor portal and core API will accept requests on this port for http protocol\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/div\u003e\n\u003ch2 id=\"hash-Installation-Steps\"\u003eInstallation Steps\u003c/h2\u003e\n\u003cp\u003eThe installation steps boil down to the following\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDownload the installer;\u003c/li\u003e\n\u003cli\u003eConfigure \u003cstrong\u003eharbor.cfg\u003c/strong\u003e;\u003c/li\u003e\n\u003cli\u003eRun \u003cstrong\u003einstall.sh\u003c/strong\u003e to install and start Harbor;\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4 id=\"hash-Downloading-the-installer:\"\u003eDownloading the installer:\u003c/h4\u003e\n\u003cp\u003eThe binary of the installer can be downloaded from the \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://github.com/goharbor/harbor/releases\"\u003erelease\u003c/a\u003e page. Choose either online or offline installer. Use \u003cem\u003etar\u003c/em\u003e command to extract the package.\u003c/p\u003e\n\u003cp\u003eOnline installer:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e    $ tar xvf harbor-online-installer-\u0026#x26;lt;version\u0026#x26;gt;.tgz\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eOffline installer:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e    $ tar xvf harbor-offline-installer-\u0026#x26;lt;version\u0026#x26;gt;.tgz\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4 id=\"hash-Configuring-Harbor\"\u003eConfiguring Harbor\u003c/h4\u003e\n\u003cp\u003eConfiguration parameters are located in the file \u003cstrong\u003eharbor.cfg\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eThere are two categories of parameters in harbor.cfg, \u003cstrong\u003erequired parameters\u003c/strong\u003e and \u003cstrong\u003eoptional parameters\u003c/strong\u003e.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003erequired parameters\u003c/strong\u003e: These parameters are required to be set in the configuration file. They will take effect if a user updates them in \u003ccode\u003eharbor.cfg\u003c/code\u003e and run the \u003ccode\u003einstall.sh\u003c/code\u003e script to reinstall Harbor.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eoptional parameters\u003c/strong\u003e: These parameters are optional for updating, i.e. user can leave them as default and update them on Web Portal after Harbor is started.  If they are set in \u003ccode\u003eharbor.cfg\u003c/code\u003e, they only take effect in the first launch of Harbor.\r\nSubsequent update to these parameters in \u003ccode\u003eharbor.cfg\u003c/code\u003e will be ignored.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e If you choose to set these parameters via the Portal, be sure to do so right after Harbor\r\nis started. In particular, you must set the desired \u003cstrong\u003eauth_mode\u003c/strong\u003e before registering or creating any new users in Harbor. When there are users in the system (besides the default admin user),\r\n\u003cstrong\u003eauth_mode\u003c/strong\u003e cannot be changed.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe parameters are described below - note that at the very least, you will need to change the \u003cstrong\u003ehostname\u003c/strong\u003e attribute.\u003c/p\u003e\n\u003ch5 id=\"hash-Required-parameters:\"\u003eRequired parameters:\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ehostname\u003c/strong\u003e: The target host's hostname, which is used to access the Portal and the registry service. It should be the IP address or the fully qualified domain name (FQDN) of your target machine, e.g., \u003ccode\u003e192.168.1.10\u003c/code\u003e or \u003ccode\u003ereg.yourdomain.com\u003c/code\u003e. \u003cem\u003eDo NOT use \u003ccode\u003elocalhost\u003c/code\u003e or \u003ccode\u003e127.0.0.1\u003c/code\u003e for the hostname - the registry service needs to be accessible by external clients!\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eui_url_protocol\u003c/strong\u003e: (\u003cstrong\u003ehttp\u003c/strong\u003e or \u003cstrong\u003ehttps\u003c/strong\u003e.  Default is \u003cstrong\u003ehttp\u003c/strong\u003e) The protocol used to access the Portal and the token/notification service.  If Notary is enabled, this parameter has to be \u003cem\u003ehttps\u003c/em\u003e.  By default, this is \u003cem\u003ehttp\u003c/em\u003e. To set up the https protocol, refer to \u003cstrong\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"configure_https.md\"\u003eConfiguring Harbor with HTTPS Access\u003c/a\u003e\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edb_password\u003c/strong\u003e: The root password for the PostgreSQL database used for \u003cstrong\u003edb_auth\u003c/strong\u003e. \u003cem\u003eChange this password for any production use!\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003emax_job_workers\u003c/strong\u003e: (default value is \u003cstrong\u003e10\u003c/strong\u003e) The maximum number of replication workers in job service. For each image replication job, a worker synchronizes all tags of a repository to the remote destination. Increasing this number allows more concurrent replication jobs in the system. However, since each worker consumes a certain amount of network/CPU/IO resources, please carefully pick the value of this attribute based on the hardware resource of the host.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecustomize_crt\u003c/strong\u003e: (\u003cstrong\u003eon\u003c/strong\u003e or \u003cstrong\u003eoff\u003c/strong\u003e.  Default is \u003cstrong\u003eon\u003c/strong\u003e) When this attribute is \u003cstrong\u003eon\u003c/strong\u003e, the prepare script creates private key and root certificate for the generation/verification of the registry's token. Set this attribute to \u003cstrong\u003eoff\u003c/strong\u003e when the key and root certificate are supplied by external sources. Refer to \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"customize_token_service.md\"\u003eCustomize Key and Certificate of Harbor Token Service\u003c/a\u003e for more info.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003essl_cert\u003c/strong\u003e: The path of SSL certificate, it's applied only when the protocol is set to https.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003essl_cert_key\u003c/strong\u003e: The path of SSL key, it's applied only when the protocol is set to https.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esecretkey_path\u003c/strong\u003e: The path of key for encrypt or decrypt the password of a remote registry in a replication policy.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003elog_rotate_count\u003c/strong\u003e: Log files are rotated \u003cstrong\u003elog_rotate_count\u003c/strong\u003e times before being removed. If count is 0, old versions are removed rather than rotated.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003elog_rotate_size\u003c/strong\u003e: Log files are rotated only if they grow bigger than \u003cstrong\u003elog_rotate_size\u003c/strong\u003e bytes. If size is followed by k, the size is assumed to be in kilobytes. If the M is used, the size is in megabytes, and if G is used, the size is in gigabytes. So size 100, size 100k, size 100M and size 100G are all valid.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehttp_proxy\u003c/strong\u003e: Config http proxy for Clair, e.g. \u003ccode\u003ehttp://my.proxy.com:3128\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ehttps_proxy\u003c/strong\u003e: Config https proxy for Clair, e.g. \u003ccode\u003ehttp://my.proxy.com:3128\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eno_proxy\u003c/strong\u003e: Config no proxy for Clair, e.g. \u003ccode\u003e127.0.0.1,localhost,core,registry\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eharbor_admin_password\u003c/strong\u003e: The administrator's initial password. This password only takes effect for the first time Harbor launches. After that, this setting is ignored and the administrator's password should be set in the Portal. \u003cem\u003eNote that the default username/password are \u003cstrong\u003eadmin/Harbor12345\u003c/strong\u003e .\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"hash-Configuring-storage-backend-optional-\"\u003eConfiguring storage backend (optional)\u003c/h4\u003e\n\u003cp\u003eBy default, Harbor stores images on your local filesystem. In a production environment, you may consider\r\nusing other storage backend instead of the local filesystem, like S3, OpenStack Swift, Ceph, etc.\r\nThese parameters are configurations for registry.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eregistry_storage_provider_name\u003c/strong\u003e:  Storage provider name of registry, it can be filesystem, s3, gcs, azure, etc. Default is filesystem.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eregistry_storage_provider_config\u003c/strong\u003e: Comma separated \"key: value\" pairs for storage provider config, e.g. \"key1: value, key2: value2\". Default is empty string.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eregistry_custom_ca_bundle\u003c/strong\u003e:  The path to the custom root ca certificate, which will be injected into the truststore of registry's and chart repository's containers.  This is usually needed when the user hosts a internal storage with self signed certificate.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor example, if you use Openstack Swift as your storage backend, the parameters may look like this:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ini\"\u003e\u003ccode class=\"language-ini\"\u003e\u003cspan class=\"token key attr-name\"\u003eregistry_storage_provider_name\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e=\u003c/span\u003e\u003cspan class=\"token value attr-value\"\u003eswift\u003c/span\u003e\n\u003cspan class=\"token key attr-name\"\u003eregistry_storage_provider_config\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e=\u003c/span\u003e\u003cspan class=\"token value attr-value\"\u003e\"\u003cspan class=\"token inner-value\"\u003eusername: admin, password: ADMIN_PASS, authurl: http://keystone_addr:35357/v3/auth, tenant: admin, domain: default, region: regionOne, container: docker_images\u003c/span\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cem\u003eNOTE: For detailed information on storage backend of a registry, refer to \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://docs.docker.com/registry/configuration/\"\u003eRegistry Configuration Reference\u003c/a\u003e .\u003c/em\u003e\u003c/p\u003e\n\u003ch4 id=\"hash-Finishing-installation-and-starting-Harbor\"\u003eFinishing installation and starting Harbor\u003c/h4\u003e\n\u003cp\u003eOnce \u003cstrong\u003eharbor.cfg\u003c/strong\u003e and storage backend (optional) are configured, install and start Harbor using the \u003ccode\u003einstall.sh\u003c/code\u003e script.  Note that it may take some time for the online installer to download Harbor images from Docker hub.\u003c/p\u003e\n\u003ch5 id=\"hash-Default-installation-without-Notary/Clair-\"\u003eDefault installation (without Notary/Clair)\u003c/h5\u003e\n\u003cp\u003eHarbor has integrated with Notary and Clair (for vulnerability scanning). However, the default installation does not include Notary or Clair service.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e    $ sudo ./install.sh\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIf everything worked properly, you should be able to open a browser to visit the admin portal at \u003cstrong\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"http://reg.yourdomain.com\"\u003ehttp://reg.yourdomain.com\u003c/a\u003e\u003c/strong\u003e (change \u003cem\u003ereg.yourdomain.com\u003c/em\u003e to the hostname configured in your \u003ccode\u003eharbor.cfg\u003c/code\u003e). Note that the default administrator username/password are admin/Harbor12345 .\u003c/p\u003e\n\u003cp\u003eLog in to the admin portal and create a new project, e.g. \u003ccode\u003emyproject\u003c/code\u003e. You can then use docker commands to login and push images (By default, the registry server listens on port 80):\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ docker login reg.yourdomain.com\r\n$ docker push reg.yourdomain.com/myproject/myrepo:mytag\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eIMPORTANT:\u003c/strong\u003e The default installation of Harbor uses \u003cem\u003eHTTP\u003c/em\u003e - as such, you will need to add the option \u003ccode\u003e--insecure-registry\u003c/code\u003e to your client's Docker daemon and restart the Docker service.\u003c/p\u003e\n\u003ch5 id=\"hash-Installation-with-Notary\"\u003eInstallation with Notary\u003c/h5\u003e\n\u003cp\u003eTo install Harbor with Notary service, add a parameter when you run \u003ccode\u003einstall.sh\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e    $ sudo ./install.sh --with-notary\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: For installation with Notary the parameter \u003cstrong\u003eui_url_protocol\u003c/strong\u003e must be set to \"https\". For configuring HTTPS please refer to the following sections.\u003c/p\u003e\n\u003cp\u003eMore information about Notary and Docker Content Trust, please refer to Docker's documentation:\r\n\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://docs.docker.com/engine/security/trust/content_trust/\"\u003ehttps://docs.docker.com/engine/security/trust/content_trust/\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"hash-Installation-with-Clair\"\u003eInstallation with Clair\u003c/h5\u003e\n\u003cp\u003eTo install Harbor with Clair service, add a parameter when you run \u003ccode\u003einstall.sh\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e    $ sudo ./install.sh --with-clair\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor more information about Clair, please refer to Clair's documentation:\r\n\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://coreos.com/clair/docs/2.0.1/\"\u003ehttps://coreos.com/clair/docs/2.0.1/\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"hash-Installation-with-chart-repository-service\"\u003eInstallation with chart repository service\u003c/h5\u003e\n\u003cp\u003eTo install Harbor with chart repository service, add a parameter when you run \u003ccode\u003einstall.sh\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e    $ sudo ./install.sh --with-chartmuseum\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: If you want to install Notary, Clair and chart repository service, you must specify all the parameters in the same command:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e    $ sudo ./install.sh --with-notary --with-clair --with-chartmuseum\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor information on how to use Harbor, please refer to \u003cstrong\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"user_guide.md\"\u003eUser Guide of Harbor\u003c/a\u003e\u003c/strong\u003e .\u003c/p\u003e\n\u003ch4 id=\"hash-Configuring-Harbor-with-HTTPS-access\"\u003eConfiguring Harbor with HTTPS access\u003c/h4\u003e\n\u003cp\u003eHarbor does not ship with any certificates, and, by default, uses HTTP to serve requests. While this makes it relatively simple to set up and run - especially for a development or testing environment - it is \u003cstrong\u003enot\u003c/strong\u003e recommended for a production environment.  To enable HTTPS, please refer to \u003cstrong\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"configure_https.md\"\u003eConfiguring Harbor with HTTPS Access\u003c/a\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3 id=\"hash-Managing-Harbor\u0026#x27;s-lifecycle\"\u003eManaging Harbor's lifecycle\u003c/h3\u003e\n\u003cp\u003eYou can use docker-compose to manage the lifecycle of Harbor. Some useful commands are listed as follows (must run in the same directory as \u003cem\u003edocker-compose.yml\u003c/em\u003e).\u003c/p\u003e\n\u003cp\u003eStopping Harbor:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose stop\r\nStopping nginx              ... done\r\nStopping harbor-portal      ... done\r\nStopping harbor-jobservice  ... done\r\nStopping harbor-core        ... done\r\nStopping registry           ... done\r\nStopping redis              ... done\r\nStopping registryctl        ... done\r\nStopping harbor-db          ... done\r\nStopping harbor-log         ... done\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eRestarting Harbor after stopping:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose start\r\nStarting log         ... done\r\nStarting registry    ... done\r\nStarting registryctl ... done\r\nStarting postgresql  ... done\r\nStarting core        ... done\r\nStarting portal      ... done\r\nStarting redis       ... done\r\nStarting jobservice  ... done\r\nStarting proxy       ... done\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eTo change Harbor's configuration, first stop existing Harbor instance and update \u003ccode\u003eharbor.cfg\u003c/code\u003e. Then run \u003ccode\u003eprepare\u003c/code\u003e script to populate the configuration. Finally re-create and start Harbor's instance:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose down -v\r\n$ vim harbor.cfg\r\n$ sudo prepare\r\n$ sudo docker-compose up -d\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eRemoving Harbor's containers while keeping the image data and Harbor's database files on the file system:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose down -v\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eRemoving Harbor's database and image data (for a clean re-installation):\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ rm -r /data/database\r\n$ rm -r /data/registry\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4\u003e\u003cem\u003eManaging lifecycle of Harbor when it's installed with Notary\u003c/em\u003e\u003c/h4\u003e\n\u003cp\u003eWhen Harbor is installed with Notary, an extra template file \u003ccode\u003edocker-compose.notary.yml\u003c/code\u003e is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml [ up|down|ps|stop|start ]\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor example, if you want to change configuration in \u003ccode\u003eharbor.cfg\u003c/code\u003e and re-deploy Harbor when it's installed with Notary, the following commands should be used:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml down -v\r\n$ vim harbor.cfg\r\n$ sudo prepare --with-notary\r\n$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml up -d\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4\u003e\u003cem\u003eManaging lifecycle of Harbor when it's installed with Clair\u003c/em\u003e\u003c/h4\u003e\n\u003cp\u003eWhen Harbor is installed with Clair, an extra template file \u003ccode\u003edocker-compose.clair.yml\u003c/code\u003e is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml [ up|down|ps|stop|start ]\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor example, if you want to change configuration in \u003ccode\u003eharbor.cfg\u003c/code\u003e and re-deploy Harbor when it's installed with Clair, the following commands should be used:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml down -v\r\n$ vim harbor.cfg\r\n$ sudo prepare --with-clair\r\n$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.clair.yml up -d\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4\u003e\u003cem\u003eManaging lifecycle of Harbor when it's installed with chart repository service\u003c/em\u003e\u003c/h4\u003e\n\u003cp\u003eWhen Harbor is installed with chart repository service, an extra template file \u003ccode\u003edocker-compose.chartmuseum.yml\u003c/code\u003e is needed for docker-compose commands. The docker-compose commands to manage the lifecycle of Harbor are:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml [ up|down|ps|stop|start ]\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor example, if you want to change configuration in \u003ccode\u003eharbor.cfg\u003c/code\u003e and re-deploy Harbor when it's installed with chart repository service, the following commands should be used:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml down -v\r\n$ vim harbor.cfg\r\n$ sudo prepare --with-chartmuseum\r\n$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.chartmuseum.yml up -d\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4\u003e\u003cem\u003eManaging lifecycle of Harbor when it's installed with Notary, Clair and chart repository service\u003c/em\u003e\u003c/h4\u003e\n\u003cp\u003eIf you want to install Notary, Clair and chart repository service together, you should include all the components in the docker-compose and prepare commands:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml -f ./docker-compose.clair.yml -f ./docker-compose.chartmuseum.yml down -v\r\n$ vim harbor.cfg\r\n$ sudo prepare --with-notary --with-clair --with-chartmuseum\r\n$ sudo docker-compose -f ./docker-compose.yml -f ./docker-compose.notary.yml -f ./docker-compose.clair.yml -f ./docker-compose.chartmuseum.yml up -d\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ePlease check the \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://docs.docker.com/compose/reference/\"\u003eDocker Compose command-line reference\u003c/a\u003e for more on docker-compose.\u003c/p\u003e\n\u003ch3 id=\"hash-Persistent-data-and-log-files\"\u003ePersistent data and log files\u003c/h3\u003e\n\u003cp\u003eBy default, registry data is persisted in the host's \u003ccode\u003e/data/\u003c/code\u003e directory.  This data remains unchanged even when Harbor's containers are removed and/or recreated.\u003c/p\u003e\n\u003cp\u003eIn addition, Harbor uses \u003cem\u003ersyslog\u003c/em\u003e to collect the logs of each container. By default, these log files are stored in the directory \u003ccode\u003e/var/log/harbor/\u003c/code\u003e on the target host for troubleshooting.\u003c/p\u003e\n\u003ch2 id=\"hash-Configuring-Harbor-listening-on-a-customized-port\"\u003eConfiguring Harbor listening on a customized port\u003c/h2\u003e\n\u003cp\u003eBy default, Harbor listens on port 80(HTTP) and 443(HTTPS, if configured) for both admin portal and docker commands, you can configure it with a customized one.\u003c/p\u003e\n\u003ch3 id=\"hash-For-HTTP-protocol\"\u003eFor HTTP protocol\u003c/h3\u003e\n\u003cp\u003e1.Modify docker-compose.yml\u003cbr\u003e\nReplace the first \"80\" to a customized port, e.g. 8888:80.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eproxy:\r\n    image: goharbor/nginx-photon:v1.6.0\r\n    container_name: nginx\r\n    restart: always\r\n    volumes:\r\n      - ./common/config/nginx:/etc/nginx:z\r\n    ports:\r\n      - 8888:80\r\n      - 443:443\r\n    depends_on:\r\n      - postgresql\r\n      - registry\r\n      - core\r\n      - portal\r\n      - log\r\n    logging:\r\n      driver: \u0026#x26;quot;syslog\u0026#x26;quot;\r\n      options:  \r\n        syslog-address: \u0026#x26;quot;tcp://127.0.0.1:1514\u0026#x26;quot;\r\n        tag: \u0026#x26;quot;proxy\u0026#x26;quot;\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e2.Modify harbor.cfg, add the port to the parameter \"hostname\"\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ehostname = 192.168.0.2:8888\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e3.Re-deploy Harbor referring to previous section \"Managing Harbor's lifecycle\".\u003c/p\u003e\n\u003ch3 id=\"hash-For-HTTPS-protocol\"\u003eFor HTTPS protocol\u003c/h3\u003e\n\u003cp\u003e1.Enable HTTPS in Harbor by following this \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://github.com/goharbor/harbor/blob/master/docs/configure_https.md\"\u003eguide\u003c/a\u003e.\u003cbr\u003e\n2.Modify docker-compose.yml\u003cbr\u003e\nReplace the first \"443\" to a customized port, e.g. 8888:443.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eproxy:\r\n    image: goharbor/nginx-photon:v1.6.0\r\n    container_name: nginx\r\n    restart: always\r\n    volumes:\r\n      - ./common/config/nginx:/etc/nginx:z\r\n    ports:\r\n      - 80:80\r\n      - 8888:443\r\n    depends_on:\r\n      - postgresql\r\n      - registry\r\n      - core\r\n      - portal\r\n      - log\r\n    logging:\r\n      driver: \u0026#x26;quot;syslog\u0026#x26;quot;\r\n      options:  \r\n        syslog-address: \u0026#x26;quot;tcp://127.0.0.1:1514\u0026#x26;quot;\r\n        tag: \u0026#x26;quot;proxy\u0026#x26;quot;\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e3.Modify harbor.cfg, add the port to the parameter \"hostname\"\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ehostname = 192.168.0.2:8888\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e4.Re-deploy Harbor referring to previous section \"Managing Harbor's lifecycle\".\u003c/p\u003e\n\u003ch2 id=\"hash-Configuring-Harbor-using-the-external-database\"\u003eConfiguring Harbor using the external database\u003c/h2\u003e\n\u003cp\u003eCurrently, only PostgreSQL database is supported by Harbor.\u003cbr\u003e\nTo user an external database, just uncomment the \u003ccode\u003eexternal_database\u003c/code\u003e section in \u003ccode\u003eharbor.yml\u003c/code\u003e and fill the necessary information. Four databases are needed to be create first by users for Harbor core, Clair, Notary server and Notary signer. And the tables will be generated automatically when Harbor starting up.\u003c/p\u003e\n\u003ch2 id=\"hash-Manage-user-settings\"\u003eManage user settings\u003c/h2\u003e\n\u003cp\u003eAfter release 1.8.0, User settings are separated with system settings, and all user settings should be configured in web console or by HTTP request.\r\nPlease refer \u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"configure_user_settings.md\"\u003eConfigure User Settings\u003c/a\u003e to config user settings.\u003c/p\u003e\n\u003ch2 id=\"hash-Performance-tuning\"\u003ePerformance tuning\u003c/h2\u003e\n\u003cp\u003eBy default, Harbor limits the CPU usage of Clair container to 150000 and avoids its using up all the CPU resources. This is defined in the docker-compose.clair.yml file. You can modify it based on your hardware configuration.\u003c/p\u003e\n\u003ch2 id=\"hash-Troubleshooting\"\u003eTroubleshooting\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eWhen Harbor does not work properly, run the below commands to find out if all containers of Harbor are in \u003cstrong\u003eUP\u003c/strong\u003e status:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e    $ sudo docker-compose ps\r\n        Name                     Command               State                    Ports                   \r\n  -----------------------------------------------------------------------------------------------------------------------------\r\n  harbor-core         /harbor/start.sh                 Up\r\n  harbor-db           /entrypoint.sh postgres          Up      5432/tcp\r\n  harbor-jobservice   /harbor/start.sh                 Up\r\n  harbor-log          /bin/sh -c /usr/local/bin/ ...   Up      127.0.0.1:1514-\u0026#x26;gt;10514/tcp\r\n  harbor-portal       nginx -g daemon off;             Up      80/tcp\r\n  nginx               nginx -g daemon off;             Up      0.0.0.0:443-\u0026#x26;gt;443/tcp, 0.0.0.0:4443-\u0026#x26;gt;4443/tcp, 0.0.0.0:80-\u0026#x26;gt;80/tcp\r\n  redis               docker-entrypoint.sh redis ...   Up      6379/tcp\r\n  registry            /entrypoint.sh /etc/regist ...   Up      5000/tcp\r\n  registryctl         /harbor/start.sh                 Up\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIf a container is not in \u003cstrong\u003eUP\u003c/strong\u003e state, check the log file of that container in directory \u003ccode\u003e/var/log/harbor\u003c/code\u003e. For example, if the container \u003ccode\u003eharbor-core\u003c/code\u003e is not running, you should look at the log file \u003ccode\u003ecore.log\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e2.When setting up Harbor behind an nginx proxy or elastic load balancing, look for the line below, in \u003ccode\u003ecommon/templates/nginx/nginx.http.conf\u003c/code\u003e and remove it from the sections if the proxy already has similar settings: \u003ccode\u003elocation /\u003c/code\u003e, \u003ccode\u003elocation /v2/\u003c/code\u003e and \u003ccode\u003elocation /service/\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eproxy_set_header X-Forwarded-Proto $scheme;\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eand re-deploy Harbor refer to the previous section \"Managing Harbor's lifecycle\".\u003c/p\u003e\n","words":17332,"toc":[{"depth":2,"value":"Prerequisites for the target host","id":"hash-Prerequisites-for-the-target-host"},{"depth":2,"value":"Installation Steps","id":"hash-Installation-Steps"},{"depth":2,"value":"Configuring Harbor listening on a customized port","id":"hash-Configuring-Harbor-listening-on-a-customized-port"},{"depth":2,"value":"Configuring Harbor using the external database","id":"hash-Configuring-Harbor-using-the-external-database"},{"depth":2,"value":"Manage user settings","id":"hash-Manage-user-settings"},{"depth":2,"value":"Performance tuning","id":"hash-Performance-tuning"},{"depth":2,"value":"Troubleshooting","id":"hash-Troubleshooting"}],"title":"Harbor — Installation and Configuration Guide","author":"高国良","type":"posts","series":false,"date":"2019-05-12T22:54:00.791Z","tags":["docker"],"description":"Harbor can be installed by one of three approaches__ERR__ Online installer__ERR__ The installer downloads Harbor's images from Docker hub. For this reason, the in","draft":false,"cover":false},"prev":{"title":"Fedora 30 安装 Gradle","author":"高国良","type":"posts","series":false,"date":1557673620791,"tags":["Gradle","java","linux"],"description":"当前的 Gradle 最新版本是5.4.1。您可以从发布页面下载所有 Gradle 版本的二进制文件和查看文档。 先决条件 Gradle 能够在所有主流操作系统上运行，只要具备 Java JDK/JRE 环境即可，Java 版本必须为 8或更高。 安装 1、下载 Gradle 目前的Gradle版本","draft":false,"cover":false,"path":"/blogs/2019/install-gradle-on-fedora30","slug":"2019/install-gradle-on-fedora30"},"next":{"title":"MySql 5.7 重置root密码","author":"高国良","type":"posts","series":false,"date":1557773280791,"tags":["mysql","password"],"description":"一、以安全模式登录 二、修改密码 三、重启数据库","draft":false,"cover":false,"path":"/blogs/2019/reset-mysql-5.7-password","slug":"2019/reset-mysql-5.7-password"}},"__N_SSG":true},"page":"/blogs/[...id]","query":{"id":["2019","installation-and-configuration-harbor"]},"buildId":"DElfyKJvzdqq9yemw12OV","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>