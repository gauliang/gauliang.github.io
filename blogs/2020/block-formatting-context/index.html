<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Block Formatting Context - Gauliang</title><meta name="next-head-count" content="3"/><link href="https://unpkg.com/prismjs@0.0.1/themes/prism-okaidia.css" rel="stylesheet"/><link rel="icon" href="/favicon.svg"/><link rel="apple-touch-icon" href="/favicon.png"/><link rel="apple-touch-startup-image" href="/favicon.png"/><link rel="manifest" href="/manifest.json"/><meta content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><meta name="apple-mobile-web-app-title" content="Blog"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="theme-color" content="#FFF"/><link rel="preload" href="/_next/static/css/57903a66b8d10132.css" as="style"/><link rel="stylesheet" href="/_next/static/css/57903a66b8d10132.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-d7b038a63b619762.js" defer=""></script><script src="/_next/static/chunks/framework-1f10003e17636e37.js" defer=""></script><script src="/_next/static/chunks/main-03586e2758997a42.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1260c18e5affe90c.js" defer=""></script><script src="/_next/static/chunks/0c428ae2-cbec42c88474d6d7.js" defer=""></script><script src="/_next/static/chunks/815-f2a9309f5cf9923e.js" defer=""></script><script src="/_next/static/chunks/424-d74d1914c82a4b2f.js" defer=""></script><script src="/_next/static/chunks/pages/blogs/%5B...id%5D-f20aa78929237221.js" defer=""></script><script src="/_next/static/UBD5lrQLyr3o01OV80Fvn/_buildManifest.js" defer=""></script><script src="/_next/static/UBD5lrQLyr3o01OV80Fvn/_ssgManifest.js" defer=""></script><script src="/_next/static/UBD5lrQLyr3o01OV80Fvn/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><nav class="md:sticky md:top-0 backdrop-blur md:bg-white/80 border-gray-200 md:border-b py-1 md:py-5 md:px-5 dark:bg-gray-800 dark:border-gray-700 z-10"><div class="md:container md:mx-auto flex flex-wrap flex-col md:flex-row justify-between"><div class="hidden md:flex px-5 md:px-0 flex-row justify-between text-[#0069ff] dark:text-white"><div class="flex flex-row cursor-pointer"><div class="w-6 h-6 my-2 md:w-8 md:h-8 md:my-1"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M238.74,366.17c-24.56,0.42-12.59,0.42-36.76,0 C92.86,358.74,92.54,257.24,92.54,257.24s-3.78-104.91,109.44-110.42c105.79,0.4,195.22,0.23,242.54,0.08 c40.86-0.53,36.61-7.61,26.7-24.61C447.75,81.99,384.8,3.28,250.71,0C-60.02,17.45-88.35,433.93,194.97,504.76 c42.5,12.75,91.65,4.77,91.65,4.77s-0.23-52.54,0-94.13C286.82,378.65,274.71,365.55,238.74,366.17z M482.55,207.28 c-12,0.02-229.21,1.03-280.57,0.86c-48.75-0.16-48.73,49.23-48.73,49.23s0.19,47.49,48.73,47.5c-0.03,0,109.56-0.35,121.41,0 c11.91,0.35,24.03,12.59,23.94,25.04c-0.19,27.35,0.46,163.59,0.64,163.53c24.08-8.5,157.24-66.58,161.49-236.57 C510.08,231.99,506.75,207.3,482.55,207.28z"></path></svg></div><span class="text-xl h-8 ml-2 my-1.5 font-semibold">Gauliang</span></div><div class="md:hidden"><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:R2b6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></div></div><div class="hidden md:flex items-start md:items-center flex-col md:flex-row mt-2 md:mt-0 mb-5 md:mb-0"><ul class="flex flex-row justify-between ml-2 md:ml-0 space-x-0 md:space-x-6 "><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/">首页</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none text-blue-500 border-b-2 border-blue-500" href="/blogs/">博客</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/tags/">标签</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/series/">系列</a></li><li><a class="block py-2 mx-3 font-semibold md:border-none " href="/about/">关于</a></li></ul><ul class="flex-row space-x-6 border-l dark:border-slate-600 ml-6 pl-6 hidden md:flex"><li><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:R6j6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></li><li><a href="https://github.com/gauliang" target="_blank" rel="noreferrer" class="block py-1 "><svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.463 2 11.97c0 4.404 2.865 8.14 6.839 9.458.5.092.682-.216.682-.48 0-.236-.008-.864-.013-1.695-2.782.602-3.369-1.337-3.369-1.337-.454-1.151-1.11-1.458-1.11-1.458-.908-.618.069-.606.069-.606 1.003.07 1.531 1.027 1.531 1.027.892 1.524 2.341 1.084 2.91.828.092-.643.35-1.083.636-1.332-2.22-.251-4.555-1.107-4.555-4.927 0-1.088.39-1.979 1.029-2.675-.103-.252-.446-1.266.098-2.638 0 0 .84-.268 2.75 1.022A9.606 9.606 0 0112 6.82c.85.004 1.705.114 2.504.336 1.909-1.29 2.747-1.022 2.747-1.022.546 1.372.202 2.386.1 2.638.64.696 1.028 1.587 1.028 2.675 0 3.83-2.339 4.673-4.566 4.92.359.307.678.915.678 1.846 0 1.332-.012 2.407-.012 2.734 0 .267.18.577.688.48C19.137 20.107 22 16.373 22 11.969 22 6.463 17.522 2 12 2z"></path></svg></a></li></ul></div><div class="flex pl-2 pr-5 justify-between items-center md:hidden"><a class="flex flex-row items-center justify-start space-x-2 text-blue-500 dark:text-blue-500 font-bold" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg><span>首页</span></a><div class="relative"><button class=" flex h-10 flex-row items-center py-2 focus:outline-none text-blue-500 dark:text-blue-500 md:dark:text-white md:text-inherit" id="headlessui-popover-button-:R2r6:" type="button" aria-expanded="false"><span class="dark:hidden"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg> <!-- --></span><span class="hidden dark:inline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></svg></span></button></div></div></div></nav><main class="mx-auto container"><div class="mx-5 xl:mx-10 flex flex-row md:space-x-8"><div class="hidden md:block md:basis-1/6 shrink-0 py-20"><div class="sticky top-28"><div class="uppercase text-black dark:text-white font-bold">Contents</div><ul class="TableOfContents text-gray-400 mt-5 text-sm"><li class="mb-3"><a href="#hash-什么是-BFC" class="nav-link ">什么是 BFC</a></li><li class="mb-3"><a href="#hash-BFC-布局规则" class="nav-link ">BFC 布局规则</a></li><li class="mb-3"><a href="#hash-如何创建-BFC" class="nav-link ">如何创建 BFC</a></li><li class="mb-3"><a href="#hash-使用-BFC" class="nav-link ">使用 BFC</a></li><li class="mb-3"><a href="#hash-参考" class="nav-link ">参考</a></li></ul></div></div><div class="basis-3/3 w-full md:w-1 md:basis-5/6 xl:basis-4/6"><div class="md:mb-12 border-gray-200 py-8 md:py-20"><div class="flex space-x-2 items-center text-sm font-light text-gray-600 dark:text-gray-400"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg><div>阅读全文约需 <!-- -->7<!-- --> 分钟<!-- --></div><div class="grow"></div></div><h1 class="text-2xl md:text-5xl my-4 md:my-8 leading-tight subpixel-antialiased font-semibold">Block Formatting Context</h1><div class="text-sm text-gray-600 dark:text-gray-400 font-light flex items-center space-x-2"><time>2020-10-10 17:03:29</time><span>By</span><span> Gauliang</span></div></div><article class="post-content"><p>了解 BFC 是什么，它具备什么布局特性，以及如何创建 BFC，有助于深入理解 CSS 布局的工作方式。</p>
<h2 id="hash-什么是-BFC">什么是 BFC</h2>
<p><strong>块格式化上下文(Block Formatting Context)</strong> 是一个独立的渲染区域，它指定内部 <code>Block-level Box</code> 的布局方式，并且与该区域的外部无关（无论内部元素如何排列，都不会影响外部元素）。</p>
<h2 id="hash-BFC-布局规则">BFC 布局规则</h2>
<ol>
<li>在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。</li>
<li>两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。
<ol>
<li>在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。
<ol>
<li>在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。</li>
</ol>
</li>
<li>两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。</li>
<li>在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。
<ul>
<li>在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。</li>
</ul>
</li>
</ol>
</li>
<li>两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。</li>
<li>在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。</li>
<li>在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。</li>
<li>两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。</li>
<li>在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。</li>
<li>在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。</li>
<li>两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。</li>
<li>在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。</li>
</ol>
<div class="image-widget"><img src="/posts/2020/block-formatting-context.files/001.jpg" alt="Block Formatting Context"><div class="figcaption">Block Formatting Context</div></div>
<p>如上图中所看到的，属于块格式上下文的所有盒子都左对齐（对于LTR），并且它们的左外边缘接触包含块的左边缘。在最后一个框中，我们可以看到，即使左侧有一个浮动的元素（棕色），另一个元素（绿色）仍会触及包含块的左侧边距。</p>
<h2 id="hash-如何创建-BFC">如何创建 BFC</h2>
<blockquote>
<p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with 'overflow' other than 'visible' (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.</p>
</blockquote>
<p>让我们以一种更易于理解的方式重新定义它。满足以下条件之一即可出发块格式化上下文：</p>
<ul>
<li><code>float</code> 属性不为 <code>none</code></li>
<li><code>position</code> 属性不为 <code>static</code> 或 <code>relative</code></li>
<li><code>display</code> 属性取值 <code>table-cell</code>，<code>table-caption</code>，<code>inline-block</code>，<code>flex</code> 或 <code>inline-flex</code></li>
<li><code>overflow</code> 属性取值不为 <code>visible</code></li>
</ul>
<p>明确触发块格式化上下文条件后，如果我们想创建一个新的块格式上下文，只需要向其添加任何上述 CSS 条件即可。
尽管上述任何条件都可以创建块格式化上下文，但是也可能为你的布局带来一些副作用，例如：</p>
<ul>
<li><code>display: table</code> 可能会在响应能力方面造成问题</li>
<li><code>overflow: scroll</code> 可能显示不需要的滚动条</li>
<li><code>float: left</code> 将元素推向左侧，其他元素环绕</li>
<li><code>overflow: hidden</code> 将剪辑溢出的元素</li>
</ul>
<p>因此，无论何时创建新的块格式化上下文，都需在不造成副作用的前提下做出最佳选择。</p>
<h2 id="hash-使用-BFC">使用 BFC</h2>
<p>这里仅举例两个利用 BFC 特性的小用例。</p>
<p>利用其包含浮动元素的特性，可用来避免父元素内的浮动子元素逃逸。</p>
<p><figure class="codepen-widget"><iframe 
                height='500' 
                scrolling='no' 
                src='//codepen.io/gauliang/embed/preview/RwRPovR/?height=500&theme-id=dark&default-tab=result' 
                frameborder='no' 
                title='codepen embed'
                allowtransparency='true' 
                allowfullscreen='true' 
                style='width: 100%;'></iframe></figure></p>
<p>根据<a target="_blank" target="_blank" class="ext-link" href="https://www.w3.org/TR/CSS2/box.html#collapsing-margins">外边距合并原则</a>，利用块格式上下文避免父子元素外边距合并。</p>
<p><figure class="codepen-widget"><iframe 
                height='500' 
                scrolling='no' 
                src='//codepen.io/gauliang/embed/preview/NWrqbbd/?height=500&theme-id=dark&default-tab=result' 
                frameborder='no' 
                title='codepen embed'
                allowtransparency='true' 
                allowfullscreen='true' 
                style='width: 100%;'></iframe></figure></p>
<h2 id="hash-参考">参考</h2>
<ol>
<li><a target="_blank" target="_blank" class="ext-link" href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting">https://www.w3.org/TR/CSS2/visuren.html#block-formatting</a></li>
<li><a target="_blank" target="_blank" class="ext-link" href="https://www.sitepoint.com/understanding-block-formatting-contexts-in-css/">https://www.sitepoint.com/understanding-block-formatting-contexts-in-css/</a></li>
<li><a target="_blank" target="_blank" class="ext-link" href="https://www.smashingmagazine.com/2017/12/understanding-css-layout-block-formatting-context/">Understanding Block Formatting Contexts in CSS</a></li>
</ol>
</article><div class="flex flex-wrap items-center md:space-x-2 my-24 pt-8 border-t border-solid border-gray-100 dark:border-gray-600"><div class="font-bold text-black text-base dark:text-white "><strong>标签：</strong></div><div class="text-blue-600 flex text-sm flex-wrap dark:text-slate-400"><a class="mr-4 hover:underline" href="/tags/BFC/">BFC</a><a class="mr-4 hover:underline" href="/tags/CSS/">CSS</a><a class="mr-4 hover:underline" href="/tags/layout/">LAYOUT</a></div></div><div class="next-and-prev-post"><a class="prev-post" href="/blogs/2020/promise/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg><div class="text"><div class="caption">2020-09-13 20:00:24</div><div class="title">Javascript Promise</div></div></a><a class="next-post" href="/blogs/2020/javascript-closure/"><div class="text"><div class="caption">2020-10-11 18:45:55</div><div class="title">Javascript Closure</div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"></path></svg></a></div></div><div class="hidden xl:block xl:basis-1/6 shrink-0 relative "></div></div><button class="z-50 hidden md:flex scroll-to-top rounded-full whitespace-nowrap space-x-2 flex-row text-xs items-center uppercase py-2 px-5 text-white bg-blue-600 hover:bg-gray-800 transition"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"></path></svg><span>Scroll to top</span></button></main><footer class="border-t dark:border-gray-700"><div class="container mx-auto flex flex-row justify-center py-16 opacity-50 hover:opacity-100 transition duration-500"><div class="text-center"><a class="flex justify-center mb-3 text-blue-500" href="/"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M238.74,366.17c-24.56,0.42-12.59,0.42-36.76,0 C92.86,358.74,92.54,257.24,92.54,257.24s-3.78-104.91,109.44-110.42c105.79,0.4,195.22,0.23,242.54,0.08 c40.86-0.53,36.61-7.61,26.7-24.61C447.75,81.99,384.8,3.28,250.71,0C-60.02,17.45-88.35,433.93,194.97,504.76 c42.5,12.75,91.65,4.77,91.65,4.77s-0.23-52.54,0-94.13C286.82,378.65,274.71,365.55,238.74,366.17z M482.55,207.28 c-12,0.02-229.21,1.03-280.57,0.86c-48.75-0.16-48.73,49.23-48.73,49.23s0.19,47.49,48.73,47.5c-0.03,0,109.56-0.35,121.41,0 c11.91,0.35,24.03,12.59,23.94,25.04c-0.19,27.35,0.46,163.59,0.64,163.53c24.08-8.5,157.24-66.58,161.49-236.57 C510.08,231.99,506.75,207.3,482.55,207.28z"></path></svg></a><code class=" text-xs font-mono text-gray-500">$ echo &quot;simple things scale.&quot; </code></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"params":{"id":["2020","block-formatting-context"]},"post":{"id":["posts","2020","block-formatting-context"],"contentHtml":"\u003cp\u003e了解 BFC 是什么，它具备什么布局特性，以及如何创建 BFC，有助于深入理解 CSS 布局的工作方式。\u003c/p\u003e\n\u003ch2 id=\"hash-什么是-BFC\"\u003e什么是 BFC\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e块格式化上下文(Block Formatting Context)\u003c/strong\u003e 是一个独立的渲染区域，它指定内部 \u003ccode\u003eBlock-level Box\u003c/code\u003e 的布局方式，并且与该区域的外部无关（无论内部元素如何排列，都不会影响外部元素）。\u003c/p\u003e\n\u003ch2 id=\"hash-BFC-布局规则\"\u003eBFC 布局规则\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。\u003c/li\u003e\n\u003cli\u003e两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。\n\u003col\u003e\n\u003cli\u003e在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。\n\u003col\u003e\n\u003cli\u003e在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。\u003c/li\u003e\n\u003cli\u003e在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。\n\u003cul\u003e\n\u003cli\u003e在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。\u003c/li\u003e\n\u003cli\u003e在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。\u003c/li\u003e\n\u003cli\u003e在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。\u003c/li\u003e\n\u003cli\u003e两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。\u003c/li\u003e\n\u003cli\u003e在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。\u003c/li\u003e\n\u003cli\u003e在块格式设置上下文中的盒子从其顶部开始垂直地一个接一个地布局。\u003c/li\u003e\n\u003cli\u003e两个兄弟盒子之间的垂直距离由'margin'属性确定。块格式化上下文中相邻块级框之间的垂直边距将会叠加，最终结果由较大的外边距决定。\u003c/li\u003e\n\u003cli\u003e在块格式上下文中的所有盒子都是左对齐（用于从左到右格式）的，并且它们的左外边缘接触包含块的左边缘，即便存在浮动盒子也是如此，除非创建了新的跨格式化上下文。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"image-widget\"\u003e\u003cimg src=\"/posts/2020/block-formatting-context.files/001.jpg\" alt=\"Block Formatting Context\"\u003e\u003cdiv class=\"figcaption\"\u003eBlock Formatting Context\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003e如上图中所看到的，属于块格式上下文的所有盒子都左对齐（对于LTR），并且它们的左外边缘接触包含块的左边缘。在最后一个框中，我们可以看到，即使左侧有一个浮动的元素（棕色），另一个元素（绿色）仍会触及包含块的左侧边距。\u003c/p\u003e\n\u003ch2 id=\"hash-如何创建-BFC\"\u003e如何创建 BFC\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eFloats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with 'overflow' other than 'visible' (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e让我们以一种更易于理解的方式重新定义它。满足以下条件之一即可出发块格式化上下文：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003efloat\u003c/code\u003e 属性不为 \u003ccode\u003enone\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eposition\u003c/code\u003e 属性不为 \u003ccode\u003estatic\u003c/code\u003e 或 \u003ccode\u003erelative\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edisplay\u003c/code\u003e 属性取值 \u003ccode\u003etable-cell\u003c/code\u003e，\u003ccode\u003etable-caption\u003c/code\u003e，\u003ccode\u003einline-block\u003c/code\u003e，\u003ccode\u003eflex\u003c/code\u003e 或 \u003ccode\u003einline-flex\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eoverflow\u003c/code\u003e 属性取值不为 \u003ccode\u003evisible\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e明确触发块格式化上下文条件后，如果我们想创建一个新的块格式上下文，只需要向其添加任何上述 CSS 条件即可。\n尽管上述任何条件都可以创建块格式化上下文，但是也可能为你的布局带来一些副作用，例如：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edisplay: table\u003c/code\u003e 可能会在响应能力方面造成问题\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eoverflow: scroll\u003c/code\u003e 可能显示不需要的滚动条\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efloat: left\u003c/code\u003e 将元素推向左侧，其他元素环绕\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eoverflow: hidden\u003c/code\u003e 将剪辑溢出的元素\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e因此，无论何时创建新的块格式化上下文，都需在不造成副作用的前提下做出最佳选择。\u003c/p\u003e\n\u003ch2 id=\"hash-使用-BFC\"\u003e使用 BFC\u003c/h2\u003e\n\u003cp\u003e这里仅举例两个利用 BFC 特性的小用例。\u003c/p\u003e\n\u003cp\u003e利用其包含浮动元素的特性，可用来避免父元素内的浮动子元素逃逸。\u003c/p\u003e\n\u003cp\u003e\u003cfigure class=\"codepen-widget\"\u003e\u003ciframe \n                height='500' \n                scrolling='no' \n                src='//codepen.io/gauliang/embed/preview/RwRPovR/?height=500\u0026theme-id=dark\u0026default-tab=result' \n                frameborder='no' \n                title='codepen embed'\n                allowtransparency='true' \n                allowfullscreen='true' \n                style='width: 100%;'\u003e\u003c/iframe\u003e\u003c/figure\u003e\u003c/p\u003e\n\u003cp\u003e根据\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://www.w3.org/TR/CSS2/box.html#collapsing-margins\"\u003e外边距合并原则\u003c/a\u003e，利用块格式上下文避免父子元素外边距合并。\u003c/p\u003e\n\u003cp\u003e\u003cfigure class=\"codepen-widget\"\u003e\u003ciframe \n                height='500' \n                scrolling='no' \n                src='//codepen.io/gauliang/embed/preview/NWrqbbd/?height=500\u0026theme-id=dark\u0026default-tab=result' \n                frameborder='no' \n                title='codepen embed'\n                allowtransparency='true' \n                allowfullscreen='true' \n                style='width: 100%;'\u003e\u003c/iframe\u003e\u003c/figure\u003e\u003c/p\u003e\n\u003ch2 id=\"hash-参考\"\u003e参考\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://www.w3.org/TR/CSS2/visuren.html#block-formatting\"\u003ehttps://www.w3.org/TR/CSS2/visuren.html#block-formatting\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://www.sitepoint.com/understanding-block-formatting-contexts-in-css/\"\u003ehttps://www.sitepoint.com/understanding-block-formatting-contexts-in-css/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" target=\"_blank\" class=\"ext-link\" href=\"https://www.smashingmagazine.com/2017/12/understanding-css-layout-block-formatting-context/\"\u003eUnderstanding Block Formatting Contexts in CSS\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n","words":2471,"toc":[{"depth":2,"value":"什么是 BFC","id":"hash-什么是-BFC"},{"depth":2,"value":"BFC 布局规则","id":"hash-BFC-布局规则"},{"depth":2,"value":"如何创建 BFC","id":"hash-如何创建-BFC"},{"depth":2,"value":"使用 BFC","id":"hash-使用-BFC"},{"depth":2,"value":"参考","id":"hash-参考"}],"title":"Block Formatting Context","date":"2020-10-10T09:03:29.000Z","draft":false,"description":"块格式化上下文(Block Formatting Context) 是一个独立的渲染区域，它指定内部 `Block-level Box` 的布局方式，并且与该区域的外部无关（无论内部元素如何排列，都不会影响外部元素）。","type":"posts","tags":["BFC","CSS","layout"],"series":false,"author":"Gl","cover":false},"prev":{"title":"Javascript Promise","date":1599998424000,"draft":false,"description":"Promise 对象用于表示一个异步操作的最终完成 (或失败), 及其结果值。本质上 Promise 是一个函数返回的对象，我们可以在它上面绑定回调函数，这样我们就不需要在一开始把回调函数作为参数传入这个函数了。","type":"posts","tags":["javascript","node.js","promise"],"series":false,"author":"Gl","cover":"001.jpg","path":"/blogs/2020/promise","slug":"2020/promise"},"next":{"title":"Javascript Closure","date":1602413155000,"draft":false,"description":"函数和与其相关的词法环境（lexical environment）一起构成闭包（closure）。闭包可以让你从内部函数访问外部函数作用域，在 JavaScript 中，每当函数被创建，就会在函数生成时生成闭包。","type":"posts","tags":["closure","lexical-environment","javascript","node.js","闭包"],"series":false,"author":"Gl","cover":"cover.jpg","path":"/blogs/2020/javascript-closure","slug":"2020/javascript-closure"}},"__N_SSG":true},"page":"/blogs/[...id]","query":{"id":["2020","block-formatting-context"]},"buildId":"UBD5lrQLyr3o01OV80Fvn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>